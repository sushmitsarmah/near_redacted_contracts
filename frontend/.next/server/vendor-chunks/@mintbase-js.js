"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@mintbase-js";
exports.ids = ["vendor-chunks/@mintbase-js"];
exports.modules = {

/***/ "(ssr)/./node_modules/@mintbase-js/wallet/lib/bitte-wallet-setup.js":
/*!********************************************************************!*\
  !*** ./node_modules/@mintbase-js/wallet/lib/bitte-wallet-setup.js ***!
  \********************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.setupBitteWallet = void 0;\nconst bitte_wallet_1 = __webpack_require__(/*! ./bitte-wallet */ \"(ssr)/./node_modules/@mintbase-js/wallet/lib/bitte-wallet.js\");\nconst utils_1 = __webpack_require__(/*! ./utils */ \"(ssr)/./node_modules/@mintbase-js/wallet/lib/utils.js\");\nconst icon = 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iOTUiIGhlaWdodD0iOTUiIHZpZXdCb3g9IjAgMCA5NSA5NSIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xLjc3NjE3IDU5LjE4MjZMNjIuNzIyNyA2My4zMTNDNjMuMTE4NSA2My40MzA5IDYzLjQ3ODggNjMuNjQ1NiA2My43NzA4IDYzLjkzNzdDNjQuMDYyOSA2NC4yMjk3IDY0LjI3NzUgNjQuNTg5OSA2NC4zOTU0IDY0Ljk4NThMNjguNTI1OSA3OC44NTU1QzY4LjY3ODcgNzkuMzY4NiA2OC45OTMyIDc5LjgxODYgNjkuNDIyNCA4MC4xMzg3QzY5Ljg1MTYgODAuNDU4NyA3MC4zNzI3IDgwLjYzMTYgNzAuOTA4MiA4MC42MzE2QzcxLjQ0MzYgODAuNjMxNiA3MS45NjQ3IDgwLjQ1ODcgNzIuMzkzOSA4MC4xMzg3QzcyLjgyMzEgNzkuODE4NiA3My4xMzc2IDc5LjM2ODYgNzMuMjkwNCA3OC44NTU1TDc3LjQyMDkgNjQuOTg1OEM3Ny41Mzg4IDY0LjU4OTkgNzcuNzUzNCA2NC4yMjk3IDc4LjA0NTUgNjMuOTM3N0M3OC4zMzc2IDYzLjY0NTYgNzguNjk3OCA2My40MzA5IDc5LjA5MzYgNjMuMzEzTDkyLjk2MzMgNTkuMTgyNkM5My40NzY0IDU5LjAyOTcgOTMuOTI2NSA1OC43MTUzIDk0LjI0NjYgNTguMjg2MUM5NC41NjY2IDU3Ljg1NjggOTQuNzM5NSA1Ny4zMzU3IDk0LjczOTUgNTYuODAwM0M5NC43Mzk1IDU2LjI2NDkgOTQuNTY2NiA1NS43NDM4IDk0LjI0NjYgNTUuMzE0NkM5My45MjY1IDU0Ljg4NTMgOTMuNDc2NCA1NC41NzA5IDkyLjk2MzMgNTQuNDE4MUw3OS4wOTM3IDUwLjI4NzZDNzguNjk3OCA1MC4xNjk3IDc4LjMzNzYgNDkuOTU1IDc4LjA0NTUgNDkuNjYzQzc3Ljc1MzUgNDkuMzcwOSA3Ny41Mzg4IDQ5LjAxMDcgNzcuNDIwOSA0OC42MTQ4TDczLjI5MDQgMzQuNzQ1MkM3My4xMzc2IDM0LjIzMiA3Mi44MjMyIDMzLjc4MTkgNzIuMzkzOSAzMy40NjE5QzcxLjk2NDcgMzMuMTQxOSA3MS40NDM2IDMyLjk2OSA3MC45MDgyIDMyLjk2OUM3MC4zNzI4IDMyLjk2OSA2OS44NTE3IDMzLjE0MTkgNjkuNDIyNCAzMy40NjE5QzY4Ljk5MzIgMzMuNzgxOSA2OC42Nzg4IDM0LjIzMiA2OC41MjYgMzQuNzQ1Mkw2NC4zOTU0IDQ4LjYxNDhDNjQuMjc3NiA0OS4wMTA3IDY0LjA2MjkgNDkuMzcwOSA2My43NzA4IDQ5LjY2M0M2My40Nzg4IDQ5Ljk1NSA2My4xMTg1IDUwLjE2OTcgNjIuNzIyNyA1MC4yODc2TDEuNzc2MTggNTQuNDE4MUMxLjI2MzA1IDU0LjU3MDkgMC44MTI5NTYgNTQuODg1MyAwLjQ5MjkyIDU1LjMxNDZDMC4xNzI4ODQgNTUuNzQzOCAyLjI0NzU1ZS0wNiA1Ni4yNjQ5IDAgNTYuODAwM0MtMi4yNDc1MWUtMDYgNTcuMzM1NyAwLjE3Mjg4NyA1Ny44NTY4IDAuNDkyOTIgNTguMjg2MUMwLjgxMjk1MyA1OC43MTUzIDEuMjYzMDMgNTkuMDI5NyAxLjc3NjE3IDU5LjE4MjZaIiBmaWxsPSJibGFjayIvPgo8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTMyLjE2MzcgMjkuNDg2OEw0MC4zNTc4IDMxLjkyNzFDNDAuNTkxNyAzMS45OTY3IDQwLjgwNDUgMzIuMTIzNiA0MC45NzcgMzIuMjk2MUM0MS4xNDk2IDMyLjQ2ODcgNDEuMjc2NCAzMi42ODE1IDQxLjM0NjEgMzIuOTE1NEw0My43ODYzIDQxLjEwOTVDNDMuODc2NiA0MS40MTI2IDQ0LjA2MjQgNDEuNjc4NSA0NC4zMTYgNDEuODY3NkM0NC41Njk2IDQyLjA1NjcgNDQuODc3NCA0Mi4xNTg4IDQ1LjE5MzcgNDIuMTU4OEM0NS41MTAxIDQyLjE1ODggNDUuODE3OSA0Mi4wNTY3IDQ2LjA3MTUgNDEuODY3NkM0Ni4zMjUxIDQxLjY3ODUgNDYuNTEwOSA0MS40MTI2IDQ2LjYwMTEgNDEuMTA5NUw0OS4wNDE0IDMyLjkxNTRDNDkuMTExMSAzMi42ODE1IDQ5LjIzNzkgMzIuNDY4NyA0OS40MTA0IDMyLjI5NjFDNDkuNTgzIDMyLjEyMzYgNDkuNzk1OCAzMS45OTY3IDUwLjAyOTcgMzEuOTI3MUw1OC4yMjM4IDI5LjQ4NjhDNTguNTI2OSAyOS4zOTY2IDU4Ljc5MjggMjkuMjEwOCA1OC45ODE5IDI4Ljk1NzJDNTkuMTcxIDI4LjcwMzYgNTkuMjczMSAyOC4zOTU4IDU5LjI3MzEgMjguMDc5NEM1OS4yNzMxIDI3Ljc2MzEgNTkuMTcxIDI3LjQ1NTMgNTguOTgxOSAyNy4yMDE3QzU4Ljc5MjggMjYuOTQ4MSA1OC41MjY5IDI2Ljc2MjMgNTguMjIzOCAyNi42NzJMNTAuMDI5NiAyNC4yMzE3QzQ5Ljc5NTggMjQuMTYyMSA0OS41ODI5IDI0LjAzNTIgNDkuNDEwNCAyMy44NjI3QzQ5LjIzNzkgMjMuNjkwMiA0OS4xMTEgMjMuNDc3MyA0OS4wNDE0IDIzLjI0MzRMNDYuNjAxMSAxNS4wNDkzQzQ2LjUxMDggMTQuNzQ2MiA0Ni4zMjUgMTQuNDgwMyA0Ni4wNzE1IDE0LjI5MTJDNDUuODE3OSAxNC4xMDIxIDQ1LjUxIDE0IDQ1LjE5MzcgMTRDNDQuODc3NCAxNCA0NC41Njk1IDE0LjEwMjEgNDQuMzE1OSAxNC4yOTEyQzQ0LjA2MjMgMTQuNDgwMyA0My44NzY2IDE0Ljc0NjIgNDMuNzg2MyAxNS4wNDkzTDQxLjM0NiAyMy4yNDM0QzQxLjI3NjQgMjMuNDc3MyA0MS4xNDk1IDIzLjY5MDIgNDAuOTc3IDIzLjg2MjdDNDAuODA0NCAyNC4wMzUyIDQwLjU5MTYgMjQuMTYyMSA0MC4zNTc4IDI0LjIzMTdMMzIuMTYzNyAyNi42NzJDMzEuODYwNSAyNi43NjIyIDMxLjU5NDYgMjYuOTQ4IDMxLjQwNTUgMjcuMjAxNkMzMS4yMTY0IDI3LjQ1NTIgMzEuMTE0MyAyNy43NjMxIDMxLjExNDMgMjguMDc5NEMzMS4xMTQzIDI4LjM5NTggMzEuMjE2NCAyOC43MDM3IDMxLjQwNTUgMjguOTU3MkMzMS41OTQ2IDI5LjIxMDggMzEuODYwNSAyOS4zOTY2IDMyLjE2MzcgMjkuNDg2OFoiIGZpbGw9ImJsYWNrIi8+Cjwvc3ZnPgo=';\nfunction setupBitteWallet({ walletUrl = '', deprecated = false, successUrl = '', failureUrl = '', callbackUrl = '', contractId = '', } = {}) {\n    return (moduleOptions) => __awaiter(this, void 0, void 0, function* () {\n        const wallet = {\n            id: 'bitte-wallet',\n            type: 'browser',\n            metadata: {\n                name: 'Bitte Wallet',\n                description: 'NEAR wallet to store, buy, send and stake assets for DeFi.',\n                iconUrl: icon,\n                deprecated,\n                available: true,\n                successUrl,\n                failureUrl,\n                walletUrl: (0, utils_1.resolveBitteWallet)(moduleOptions.options.network.networkId, walletUrl),\n            },\n            init: (options) => {\n                return (0, bitte_wallet_1.BitteWallet)(Object.assign({ callback: callbackUrl, networkId: moduleOptions.options.network.networkId, successUrl, failureUrl, contractId }, options));\n            },\n        };\n        return wallet;\n    });\n}\nexports.setupBitteWallet = setupBitteWallet;\n//# sourceMappingURL=bitte-wallet-setup.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG1pbnRiYXNlLWpzL3dhbGxldC9saWIvYml0dGUtd2FsbGV0LXNldHVwLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQSw0QkFBNEIsK0RBQStELGlCQUFpQjtBQUM1RztBQUNBLG9DQUFvQyxNQUFNLCtCQUErQixZQUFZO0FBQ3JGLG1DQUFtQyxNQUFNLG1DQUFtQyxZQUFZO0FBQ3hGLGdDQUFnQztBQUNoQztBQUNBLEtBQUs7QUFDTDtBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCx3QkFBd0I7QUFDeEIsdUJBQXVCLG1CQUFPLENBQUMsb0ZBQWdCO0FBQy9DLGdCQUFnQixtQkFBTyxDQUFDLHNFQUFTO0FBQ2pDLGlDQUFpQztBQUNqQyw0QkFBNEIsMkdBQTJHLElBQUk7QUFDM0k7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSx1RUFBdUUsK0dBQStHO0FBQ3RMLGFBQWE7QUFDYjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0Esd0JBQXdCO0FBQ3hCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaGVsbG8tbmVhci8uL25vZGVfbW9kdWxlcy9AbWludGJhc2UtanMvd2FsbGV0L2xpYi9iaXR0ZS13YWxsZXQtc2V0dXAuanM/OTBkYiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2F3YWl0ZXIgPSAodGhpcyAmJiB0aGlzLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XG4gICAgfSk7XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5zZXR1cEJpdHRlV2FsbGV0ID0gdm9pZCAwO1xuY29uc3QgYml0dGVfd2FsbGV0XzEgPSByZXF1aXJlKFwiLi9iaXR0ZS13YWxsZXRcIik7XG5jb25zdCB1dGlsc18xID0gcmVxdWlyZShcIi4vdXRpbHNcIik7XG5jb25zdCBpY29uID0gJ2RhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsUEhOMlp5QjNhV1IwYUQwaU9UVWlJR2hsYVdkb2REMGlPVFVpSUhacFpYZENiM2c5SWpBZ01DQTVOU0E1TlNJZ1ptbHNiRDBpYm05dVpTSWdlRzFzYm5NOUltaDBkSEE2THk5M2QzY3Vkek11YjNKbkx6SXdNREF2YzNabklqNEtQSEJoZEdnZ1ptbHNiQzF5ZFd4bFBTSmxkbVZ1YjJSa0lpQmpiR2x3TFhKMWJHVTlJbVYyWlc1dlpHUWlJR1E5SWsweExqYzNOakUzSURVNUxqRTRNalpNTmpJdU56SXlOeUEyTXk0ek1UTkROak11TVRFNE5TQTJNeTQwTXpBNUlEWXpMalEzT0RnZ05qTXVOalExTmlBMk15NDNOekE0SURZekxqa3pOemRETmpRdU1EWXlPU0EyTkM0eU1qazNJRFkwTGpJM056VWdOalF1TlRnNU9TQTJOQzR6T1RVMElEWTBMams0TlRoTU5qZ3VOVEkxT1NBM09DNDROVFUxUXpZNExqWTNPRGNnTnprdU16WTROaUEyT0M0NU9UTXlJRGM1TGpneE9EWWdOamt1TkRJeU5DQTRNQzR4TXpnM1F6WTVMamcxTVRZZ09EQXVORFU0TnlBM01DNHpOekkzSURnd0xqWXpNVFlnTnpBdU9UQTRNaUE0TUM0Mk16RTJRemN4TGpRME16WWdPREF1TmpNeE5pQTNNUzQ1TmpRM0lEZ3dMalExT0RjZ056SXVNemt6T1NBNE1DNHhNemczUXpjeUxqZ3lNekVnTnprdU9ERTROaUEzTXk0eE16YzJJRGM1TGpNMk9EWWdOek11TWprd05DQTNPQzQ0TlRVMVREYzNMalF5TURrZ05qUXVPVGcxT0VNM055NDFNemc0SURZMExqVTRPVGtnTnpjdU56VXpOQ0EyTkM0eU1qazNJRGM0TGpBME5UVWdOak11T1RNM04wTTNPQzR6TXpjMklEWXpMalkwTlRZZ056Z3VOamszT0NBMk15NDBNekE1SURjNUxqQTVNellnTmpNdU16RXpURGt5TGprMk16TWdOVGt1TVRneU5rTTVNeTQwTnpZMElEVTVMakF5T1RjZ09UTXVPVEkyTlNBMU9DNDNNVFV6SURrMExqSTBOallnTlRndU1qZzJNVU01TkM0MU5qWTJJRFUzTGpnMU5qZ2dPVFF1TnpNNU5TQTFOeTR6TXpVM0lEazBMamN6T1RVZ05UWXVPREF3TTBNNU5DNDNNemsxSURVMkxqSTJORGtnT1RRdU5UWTJOaUExTlM0M05ETTRJRGswTGpJME5qWWdOVFV1TXpFME5rTTVNeTQ1TWpZMUlEVTBMamc0TlRNZ09UTXVORGMyTkNBMU5DNDFOekE1SURreUxqazJNek1nTlRRdU5ERTRNVXczT1M0d09UTTNJRFV3TGpJNE56WkROemd1TmprM09DQTFNQzR4TmprM0lEYzRMak16TnpZZ05Ea3VPVFUxSURjNExqQTBOVFVnTkRrdU5qWXpRemMzTGpjMU16VWdORGt1TXpjd09TQTNOeTQxTXpnNElEUTVMakF4TURjZ056Y3VOREl3T1NBME9DNDJNVFE0VERjekxqSTVNRFFnTXpRdU56UTFNa00zTXk0eE16YzJJRE0wTGpJek1pQTNNaTQ0TWpNeUlETXpMamM0TVRrZ056SXVNemt6T1NBek15NDBOakU1UXpjeExqazJORGNnTXpNdU1UUXhPU0EzTVM0ME5ETTJJRE15TGprMk9TQTNNQzQ1TURneUlETXlMamsyT1VNM01DNHpOekk0SURNeUxqazJPU0EyT1M0NE5URTNJRE16TGpFME1Ua2dOamt1TkRJeU5DQXpNeTQwTmpFNVF6WTRMams1TXpJZ016TXVOemd4T1NBMk9DNDJOemc0SURNMExqSXpNaUEyT0M0MU1qWWdNelF1TnpRMU1rdzJOQzR6T1RVMElEUTRMall4TkRoRE5qUXVNamMzTmlBME9TNHdNVEEzSURZMExqQTJNamtnTkRrdU16Y3dPU0EyTXk0M056QTRJRFE1TGpZMk0wTTJNeTQwTnpnNElEUTVMamsxTlNBMk15NHhNVGcxSURVd0xqRTJPVGNnTmpJdU56SXlOeUExTUM0eU9EYzJUREV1TnpjMk1UZ2dOVFF1TkRFNE1VTXhMakkyTXpBMUlEVTBMalUzTURrZ01DNDRNVEk1TlRZZ05UUXVPRGcxTXlBd0xqUTVNamt5SURVMUxqTXhORFpETUM0eE56STRPRFFnTlRVdU56UXpPQ0F5TGpJME56VTFaUzB3TmlBMU5pNHlOalE1SURBZ05UWXVPREF3TTBNdE1pNHlORGMxTVdVdE1EWWdOVGN1TXpNMU55QXdMakUzTWpnNE55QTFOeTQ0TlRZNElEQXVORGt5T1RJZ05UZ3VNamcyTVVNd0xqZ3hNamsxTXlBMU9DNDNNVFV6SURFdU1qWXpNRE1nTlRrdU1ESTVOeUF4TGpjM05qRTNJRFU1TGpFNE1qWmFJaUJtYVd4c1BTSmliR0ZqYXlJdlBnbzhjR0YwYUNCbWFXeHNMWEoxYkdVOUltVjJaVzV2WkdRaUlHTnNhWEF0Y25Wc1pUMGlaWFpsYm05a1pDSWdaRDBpVFRNeUxqRTJNemNnTWprdU5EZzJPRXcwTUM0ek5UYzRJRE14TGpreU56RkROREF1TlRreE55QXpNUzQ1T1RZM0lEUXdMamd3TkRVZ016SXVNVEl6TmlBME1DNDVOemNnTXpJdU1qazJNVU0wTVM0eE5EazJJRE15TGpRMk9EY2dOREV1TWpjMk5DQXpNaTQyT0RFMUlEUXhMak0wTmpFZ016SXVPVEUxTkV3ME15NDNPRFl6SURReExqRXdPVFZETkRNdU9EYzJOaUEwTVM0ME1USTJJRFEwTGpBMk1qUWdOREV1TmpjNE5TQTBOQzR6TVRZZ05ERXVPRFkzTmtNME5DNDFOamsySURReUxqQTFOamNnTkRRdU9EYzNOQ0EwTWk0eE5UZzRJRFExTGpFNU16Y2dOREl1TVRVNE9FTTBOUzQxTVRBeElEUXlMakUxT0RnZ05EVXVPREUzT1NBME1pNHdOVFkzSURRMkxqQTNNVFVnTkRFdU9EWTNOa00wTmk0ek1qVXhJRFF4TGpZM09EVWdORFl1TlRFd09TQTBNUzQwTVRJMklEUTJMall3TVRFZ05ERXVNVEE1TlV3ME9TNHdOREUwSURNeUxqa3hOVFJETkRrdU1URXhNU0F6TWk0Mk9ERTFJRFE1TGpJek56a2dNekl1TkRZNE55QTBPUzQwTVRBMElETXlMakk1TmpGRE5Ea3VOVGd6SURNeUxqRXlNellnTkRrdU56azFPQ0F6TVM0NU9UWTNJRFV3TGpBeU9UY2dNekV1T1RJM01VdzFPQzR5TWpNNElESTVMalE0TmpoRE5UZ3VOVEkyT1NBeU9TNHpPVFkySURVNExqYzVNamdnTWprdU1qRXdPQ0ExT0M0NU9ERTVJREk0TGprMU56SkROVGt1TVRjeElESTRMamN3TXpZZ05Ua3VNamN6TVNBeU9DNHpPVFU0SURVNUxqSTNNekVnTWpndU1EYzVORU0xT1M0eU56TXhJREkzTGpjMk16RWdOVGt1TVRjeElESTNMalExTlRNZ05UZ3VPVGd4T1NBeU55NHlNREUzUXpVNExqYzVNamdnTWpZdU9UUTRNU0ExT0M0MU1qWTVJREkyTGpjMk1qTWdOVGd1TWpJek9DQXlOaTQyTnpKTU5UQXVNREk1TmlBeU5DNHlNekUzUXpRNUxqYzVOVGdnTWpRdU1UWXlNU0EwT1M0MU9ESTVJREkwTGpBek5USWdORGt1TkRFd05DQXlNeTQ0TmpJM1F6UTVMakl6TnprZ01qTXVOamt3TWlBME9TNHhNVEVnTWpNdU5EYzNNeUEwT1M0d05ERTBJREl6TGpJME16Uk1ORFl1TmpBeE1TQXhOUzR3TkRrelF6UTJMalV4TURnZ01UUXVOelEyTWlBME5pNHpNalVnTVRRdU5EZ3dNeUEwTmk0d056RTFJREUwTGpJNU1USkRORFV1T0RFM09TQXhOQzR4TURJeElEUTFMalV4SURFMElEUTFMakU1TXpjZ01UUkRORFF1T0RjM05DQXhOQ0EwTkM0MU5qazFJREUwTGpFd01qRWdORFF1TXpFMU9TQXhOQzR5T1RFeVF6UTBMakEyTWpNZ01UUXVORGd3TXlBME15NDROelkySURFMExqYzBOaklnTkRNdU56ZzJNeUF4TlM0d05Ea3pURFF4TGpNME5pQXlNeTR5TkRNMFF6UXhMakkzTmpRZ01qTXVORGMzTXlBME1TNHhORGsxSURJekxqWTVNRElnTkRBdU9UYzNJREl6TGpnMk1qZEROREF1T0RBME5DQXlOQzR3TXpVeUlEUXdMalU1TVRZZ01qUXVNVFl5TVNBME1DNHpOVGM0SURJMExqSXpNVGRNTXpJdU1UWXpOeUF5Tmk0Mk56SkRNekV1T0RZd05TQXlOaTQzTmpJeUlETXhMalU1TkRZZ01qWXVPVFE0SURNeExqUXdOVFVnTWpjdU1qQXhOa016TVM0eU1UWTBJREkzTGpRMU5USWdNekV1TVRFME15QXlOeTQzTmpNeElETXhMakV4TkRNZ01qZ3VNRGM1TkVNek1TNHhNVFF6SURJNExqTTVOVGdnTXpFdU1qRTJOQ0F5T0M0M01ETTNJRE14TGpRd05UVWdNamd1T1RVM01rTXpNUzQxT1RRMklESTVMakl4TURnZ016RXVPRFl3TlNBeU9TNHpPVFkySURNeUxqRTJNemNnTWprdU5EZzJPRm9pSUdacGJHdzlJbUpzWVdOcklpOCtDand2YzNablBnbz0nO1xuZnVuY3Rpb24gc2V0dXBCaXR0ZVdhbGxldCh7IHdhbGxldFVybCA9ICcnLCBkZXByZWNhdGVkID0gZmFsc2UsIHN1Y2Nlc3NVcmwgPSAnJywgZmFpbHVyZVVybCA9ICcnLCBjYWxsYmFja1VybCA9ICcnLCBjb250cmFjdElkID0gJycsIH0gPSB7fSkge1xuICAgIHJldHVybiAobW9kdWxlT3B0aW9ucykgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICBjb25zdCB3YWxsZXQgPSB7XG4gICAgICAgICAgICBpZDogJ2JpdHRlLXdhbGxldCcsXG4gICAgICAgICAgICB0eXBlOiAnYnJvd3NlcicsXG4gICAgICAgICAgICBtZXRhZGF0YToge1xuICAgICAgICAgICAgICAgIG5hbWU6ICdCaXR0ZSBXYWxsZXQnLFxuICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAnTkVBUiB3YWxsZXQgdG8gc3RvcmUsIGJ1eSwgc2VuZCBhbmQgc3Rha2UgYXNzZXRzIGZvciBEZUZpLicsXG4gICAgICAgICAgICAgICAgaWNvblVybDogaWNvbixcbiAgICAgICAgICAgICAgICBkZXByZWNhdGVkLFxuICAgICAgICAgICAgICAgIGF2YWlsYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBzdWNjZXNzVXJsLFxuICAgICAgICAgICAgICAgIGZhaWx1cmVVcmwsXG4gICAgICAgICAgICAgICAgd2FsbGV0VXJsOiAoMCwgdXRpbHNfMS5yZXNvbHZlQml0dGVXYWxsZXQpKG1vZHVsZU9wdGlvbnMub3B0aW9ucy5uZXR3b3JrLm5ldHdvcmtJZCwgd2FsbGV0VXJsKSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBpbml0OiAob3B0aW9ucykgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiAoMCwgYml0dGVfd2FsbGV0XzEuQml0dGVXYWxsZXQpKE9iamVjdC5hc3NpZ24oeyBjYWxsYmFjazogY2FsbGJhY2tVcmwsIG5ldHdvcmtJZDogbW9kdWxlT3B0aW9ucy5vcHRpb25zLm5ldHdvcmsubmV0d29ya0lkLCBzdWNjZXNzVXJsLCBmYWlsdXJlVXJsLCBjb250cmFjdElkIH0sIG9wdGlvbnMpKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB3YWxsZXQ7XG4gICAgfSk7XG59XG5leHBvcnRzLnNldHVwQml0dGVXYWxsZXQgPSBzZXR1cEJpdHRlV2FsbGV0O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Yml0dGUtd2FsbGV0LXNldHVwLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@mintbase-js/wallet/lib/bitte-wallet-setup.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@mintbase-js/wallet/lib/bitte-wallet.js":
/*!**************************************************************!*\
  !*** ./node_modules/@mintbase-js/wallet/lib/bitte-wallet.js ***!
  \**************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.BitteWallet = exports.TransactionSuccessEnum = void 0;\nconst nearAPI = __importStar(__webpack_require__(/*! near-api-js */ \"(ssr)/./node_modules/near-api-js/lib/index.js\"));\nconst utils_1 = __webpack_require__(/*! ./utils */ \"(ssr)/./node_modules/@mintbase-js/wallet/lib/utils.js\");\nconst wallet_utils_1 = __webpack_require__(/*! @near-wallet-selector/wallet-utils */ \"(ssr)/./node_modules/@near-wallet-selector/wallet-utils/index.js\");\nvar TransactionSuccessEnum;\n(function (TransactionSuccessEnum) {\n    TransactionSuccessEnum[\"MINT\"] = \"mint\";\n    TransactionSuccessEnum[\"TRANSFER\"] = \"transfer\";\n    TransactionSuccessEnum[\"BURN\"] = \"burn\";\n    TransactionSuccessEnum[\"DEPLOY_STORE\"] = \"deploy-store\";\n    TransactionSuccessEnum[\"MAKE_OFFER\"] = \"make-offer\";\n    TransactionSuccessEnum[\"REVOKE_MINTER\"] = \"revoke-minter\";\n    TransactionSuccessEnum[\"ADD_MINTER\"] = \"add-minter\";\n    TransactionSuccessEnum[\"TRANSFER_STORE_OWNERSHIP\"] = \"transfer-store-ownership\";\n    TransactionSuccessEnum[\"AUCTION_LIST\"] = \"list\";\n    TransactionSuccessEnum[\"SIMPLE_SALE_LIST\"] = \"simple-sale-list\";\n    TransactionSuccessEnum[\"UNLIST\"] = \"unlist\";\n    TransactionSuccessEnum[\"TAKE_OFFER\"] = \"take-offer\";\n    TransactionSuccessEnum[\"WITHDRAW_OFFER\"] = \"withdraw-offer\";\n})(TransactionSuccessEnum = exports.TransactionSuccessEnum || (exports.TransactionSuccessEnum = {}));\nconst BitteWallet = ({ metadata, options, successUrl, failureUrl, contractId, callback, networkId, }) => __awaiter(void 0, void 0, void 0, function* () {\n    const setupWalletState = () => __awaiter(void 0, void 0, void 0, function* () {\n        if (typeof window !== undefined) {\n            const { connect, WalletConnection, keyStores } = nearAPI;\n            const connectionConfig = {\n                networkId: networkId,\n                keyStore: new keyStores.BrowserLocalStorageKeyStore(),\n                nodeUrl: options.network.nodeUrl,\n                walletUrl: metadata.walletUrl,\n                headers: {},\n            };\n            const searchParams = new URL(window.location.href);\n            const acc = searchParams.searchParams.get('account_id');\n            //make near-api-js not throw without lak\n            if (acc && !contractId) {\n                localStorage.setItem('mintbase-wallet_wallet_auth_key', JSON.stringify({\n                    accountId: acc,\n                    allKeys: [],\n                }));\n            }\n            const nearConnection = yield connect(connectionConfig);\n            const wallet = new WalletConnection(nearConnection, 'mintbase-wallet');\n            localStorage.setItem('mintbase-wallet:callback_url', callback);\n            return {\n                wallet,\n            };\n        }\n        return null;\n    });\n    const state = yield setupWalletState();\n    let activeAccountId;\n    const getAccountId = () => activeAccountId;\n    const isSignedIn = () => __awaiter(void 0, void 0, void 0, function* () { return !!activeAccountId; });\n    const signIn = () => __awaiter(void 0, void 0, void 0, function* () {\n        var _a;\n        const existingAccounts = yield getAccounts();\n        const href = encodeURI((_a = window === null || window === void 0 ? void 0 : window.location) === null || _a === void 0 ? void 0 : _a.href);\n        if (existingAccounts.length) {\n            return existingAccounts;\n        }\n        yield state.wallet.requestSignIn({\n            methodNames: [],\n            successUrl: successUrl || href,\n            failureUrl: failureUrl || href,\n            contractId: contractId,\n        });\n        return getAccounts();\n    });\n    const signOut = () => __awaiter(void 0, void 0, void 0, function* () {\n        window.localStorage.removeItem('mintbase-wallet:account-data');\n        if (state.wallet.isSignedIn()) {\n            state.wallet.signOut();\n        }\n        return;\n    });\n    const assertValidSigner = (signerId) => {\n        if (signerId && signerId !== state.wallet.getAccountId()) {\n            throw new Error(`Cannot sign transactions for ${signerId} while signed in as ${activeAccountId}`);\n        }\n    };\n    const signAndSendTransactions = ({ transactions, callbackUrl }) => __awaiter(void 0, void 0, void 0, function* () {\n        if (!state.wallet.isSignedIn()) {\n            throw new Error('Wallet not signed in');\n        }\n        //// near-api-js code fails if no lak\n        // const { cbUrl } = getCallbackUrl(callbackUrl ?? '');\n        // return state.wallet.requestSignTransactions({\n        //   transactions: await transformTransactions(transactions),\n        //   callbackUrl: cbUrl,\n        // });\n        const { cbUrl } = (0, utils_1.getCallbackUrl)(callbackUrl !== null && callbackUrl !== void 0 ? callbackUrl : '');\n        for (const { signerId } of transactions) {\n            assertValidSigner(signerId);\n        }\n        const stringifiedParam = JSON.stringify(transactions);\n        const urlParam = encodeURIComponent(stringifiedParam);\n        const newUrl = new URL(`${metadata.walletUrl}/sign-transaction`);\n        newUrl.searchParams.set('transactions_data', urlParam);\n        newUrl.searchParams.set('callback_url', cbUrl);\n        window.location.assign(newUrl.toString());\n        return;\n    });\n    const signAndSendTransaction = ({ receiverId, actions, signerId, callbackUrl, }) => __awaiter(void 0, void 0, void 0, function* () {\n        assertValidSigner(signerId);\n        if (!receiverId && !contractId) {\n            throw new Error('No receiver found to send the transaction to');\n        }\n        const { cbUrl } = (0, utils_1.getCallbackUrl)(callbackUrl !== null && callbackUrl !== void 0 ? callbackUrl : '');\n        const callback = cbUrl || successUrl;\n        if (!contractId) {\n            const newUrl = new URL(`${metadata.walletUrl}/sign-transaction`);\n            const stringifiedParam = JSON.stringify([{ receiverId, signerId, actions }]);\n            const urlParam = encodeURIComponent(stringifiedParam);\n            newUrl.searchParams.set('transactions_data', urlParam);\n            newUrl.searchParams.set('callback_url', callback);\n            window.location.assign(newUrl.toString());\n        }\n        const account = state.wallet.account();\n        return yield account.signAndSendTransaction({\n            receiverId: receiverId || contractId,\n            actions: actions.map((action) => (0, wallet_utils_1.createAction)(action)),\n            walletCallbackUrl: callback,\n        });\n    });\n    const verifyOwner = () => __awaiter(void 0, void 0, void 0, function* () {\n        throw new Error(`The verifyOwner method is not supported by ${metadata.name}`);\n    });\n    const signMessage = ({ message, nonce, recipient, callbackUrl }) => __awaiter(void 0, void 0, void 0, function* () {\n        const { cbUrl } = (0, utils_1.getCallbackUrl)(callbackUrl !== null && callbackUrl !== void 0 ? callbackUrl : '');\n        const newUrl = new URL(`${metadata.walletUrl}/sign-message`);\n        newUrl.searchParams.set('message', message);\n        newUrl.searchParams.set('nonce', Buffer.from(nonce).toString('base64'));\n        newUrl.searchParams.set('recipient', recipient);\n        newUrl.searchParams.set('callbackUrl', cbUrl);\n        window.location.assign(newUrl.toString());\n    });\n    const verifyMessage = ({ accountId, publicKey, signature, message, nonce, recipient, callbackUrl }) => __awaiter(void 0, void 0, void 0, function* () {\n        const newUrl = new URL(`${metadata.walletUrl}/api/verify-message`);\n        newUrl.searchParams.set('message', message);\n        newUrl.searchParams.set('accountId', accountId);\n        newUrl.searchParams.set('publicKey', publicKey);\n        newUrl.searchParams.set('signature', signature);\n        newUrl.searchParams.set('nonce', Buffer.from(nonce).toString('base64'));\n        newUrl.searchParams.set('recipient', recipient);\n        newUrl.searchParams.set('callbackUrl', callbackUrl);\n        try {\n            const response = yield fetch(newUrl.toString());\n            const data = yield response.json();\n            const { isValid } = data;\n            return isValid;\n        }\n        catch (e) {\n            return false;\n        }\n    });\n    const getAvailableBalance = () => __awaiter(void 0, void 0, void 0, function* () {\n        // const accountId = state.wallet.getAccountId();\n        // return await getBalance(accountId);\n        throw (`The getAvailableBalance method is not supported by ${metadata.name}`);\n    });\n    const getAccounts = () => __awaiter(void 0, void 0, void 0, function* () {\n        var _b;\n        const accountId = state.wallet.getAccountId();\n        const account = state.wallet.account();\n        if (!accountId || !account) {\n            return [];\n        }\n        const currentAccount = window.localStorage.getItem('mintbase-wallet:account-creation-data');\n        return [\n            {\n                accountId,\n                publicKey: (_b = JSON.parse(currentAccount)) === null || _b === void 0 ? void 0 : _b.devicePublicKey,\n            },\n        ];\n    });\n    const switchAccount = (id) => __awaiter(void 0, void 0, void 0, function* () {\n        //TODO fix\n        setActiveAccountId(id);\n        return null;\n    });\n    const setActiveAccountId = (accountId) => {\n        activeAccountId = accountId;\n        window.localStorage.setItem('mintbase-wallet:activeAccountId', accountId);\n        return null;\n    };\n    // const transformTransactions = async (\n    //   transactions: Array<Optional<Transaction, 'signerId'>>,\n    // ): Promise<Array<nearAPI.transactions.Transaction>> => {\n    //   const account = state.wallet.account();\n    //   const { networkId, signer, provider } = account.connection;\n    //   const localKey = await signer.getPublicKey(account.accountId, networkId);\n    //   return Promise.all(\n    //     transactions.map(async (transaction, index) => {\n    //       const actions = transaction.actions.map((action) =>\n    //         createAction(action),\n    //       );\n    //       const accessKey = await account.accessKeyForTransaction(\n    //         transaction.receiverId,\n    //         actions as any,\n    //         localKey,\n    //       );\n    //       if (!accessKey) {\n    //         throw new Error(\n    //           `Failed to find matching key for transaction sent to ${transaction.receiverId}`,\n    //         );\n    //       }\n    //       const block = await provider.block({ finality: 'final' });\n    //       return nearAPI.transactions.createTransaction(\n    //         account.accountId,\n    //         nearAPI.utils.PublicKey.from(accessKey.public_key),\n    //         transaction.receiverId,\n    //         accessKey.access_key.nonce + index + 1,\n    //         actions as any,\n    //         nearAPI.utils.serialize.base_decode(block.header.hash),\n    //       );\n    //     }),\n    //   );\n    // };\n    return {\n        getAccountId,\n        isSignedIn,\n        signIn,\n        signOut,\n        signAndSendTransaction,\n        verifyOwner,\n        signMessage,\n        getAvailableBalance,\n        getAccounts,\n        switchAccount,\n        signAndSendTransactions,\n        verifyMessage,\n    };\n});\nexports.BitteWallet = BitteWallet;\n//# sourceMappingURL=bitte-wallet.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG1pbnRiYXNlLWpzL3dhbGxldC9saWIvYml0dGUtd2FsbGV0LmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLG9DQUFvQztBQUNuRDtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQSwwQ0FBMEMsNEJBQTRCO0FBQ3RFLENBQUM7QUFDRDtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLCtEQUErRCxpQkFBaUI7QUFDNUc7QUFDQSxvQ0FBb0MsTUFBTSwrQkFBK0IsWUFBWTtBQUNyRixtQ0FBbUMsTUFBTSxtQ0FBbUMsWUFBWTtBQUN4RixnQ0FBZ0M7QUFDaEM7QUFDQSxLQUFLO0FBQ0w7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsbUJBQW1CLEdBQUcsOEJBQThCO0FBQ3BELDZCQUE2QixtQkFBTyxDQUFDLGtFQUFhO0FBQ2xELGdCQUFnQixtQkFBTyxDQUFDLHNFQUFTO0FBQ2pDLHVCQUF1QixtQkFBTyxDQUFDLDRHQUFvQztBQUNuRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLDhEQUE4RCw4QkFBOEIsS0FBSztBQUNsRyx1QkFBdUIsNkVBQTZFO0FBQ3BHO0FBQ0E7QUFDQSxvQkFBb0IsdUNBQXVDO0FBQzNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkI7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsOEVBQThFLDJCQUEyQjtBQUN6RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSw0REFBNEQsVUFBVSxxQkFBcUIsZ0JBQWdCO0FBQzNHO0FBQ0E7QUFDQSx1Q0FBdUMsMkJBQTJCO0FBQ2xFO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLFFBQVE7QUFDM0I7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaLGdCQUFnQixRQUFRO0FBQ3hCLHFCQUFxQixXQUFXO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLG1CQUFtQjtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxzQ0FBc0MsNkNBQTZDO0FBQ25GO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLFFBQVE7QUFDeEI7QUFDQTtBQUNBLHNDQUFzQyxtQkFBbUI7QUFDekQsdURBQXVELCtCQUErQjtBQUN0RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxLQUFLO0FBQ0w7QUFDQSxzRUFBc0UsY0FBYztBQUNwRixLQUFLO0FBQ0wsMkJBQTJCLHdDQUF3QztBQUNuRSxnQkFBZ0IsUUFBUTtBQUN4QixrQ0FBa0MsbUJBQW1CO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsNkJBQTZCLHlFQUF5RTtBQUN0RyxrQ0FBa0MsbUJBQW1CO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLFVBQVU7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxxRUFBcUUsY0FBYztBQUNuRixLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQiw4QkFBOEI7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3RUFBd0UsdUJBQXVCO0FBQy9GO0FBQ0E7QUFDQSxrREFBa0QsbUJBQW1CO0FBQ3JFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0QsbUJBQW1CO0FBQ25CIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaGVsbG8tbmVhci8uL25vZGVfbW9kdWxlcy9AbWludGJhc2UtanMvd2FsbGV0L2xpYi9iaXR0ZS13YWxsZXQuanM/NTNiOSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2NyZWF0ZUJpbmRpbmcgPSAodGhpcyAmJiB0aGlzLl9fY3JlYXRlQmluZGluZykgfHwgKE9iamVjdC5jcmVhdGUgPyAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xuICAgIHZhciBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihtLCBrKTtcbiAgICBpZiAoIWRlc2MgfHwgKFwiZ2V0XCIgaW4gZGVzYyA/ICFtLl9fZXNNb2R1bGUgOiBkZXNjLndyaXRhYmxlIHx8IGRlc2MuY29uZmlndXJhYmxlKSkge1xuICAgICAgZGVzYyA9IHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIG1ba107IH0gfTtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIGsyLCBkZXNjKTtcbn0pIDogKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcbiAgICBvW2syXSA9IG1ba107XG59KSk7XG52YXIgX19zZXRNb2R1bGVEZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX3NldE1vZHVsZURlZmF1bHQpIHx8IChPYmplY3QuY3JlYXRlID8gKGZ1bmN0aW9uKG8sIHYpIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgXCJkZWZhdWx0XCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHYgfSk7XG59KSA6IGZ1bmN0aW9uKG8sIHYpIHtcbiAgICBvW1wiZGVmYXVsdFwiXSA9IHY7XG59KTtcbnZhciBfX2ltcG9ydFN0YXIgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0U3RhcikgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIGlmIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpIHJldHVybiBtb2Q7XG4gICAgdmFyIHJlc3VsdCA9IHt9O1xuICAgIGlmIChtb2QgIT0gbnVsbCkgZm9yICh2YXIgayBpbiBtb2QpIGlmIChrICE9PSBcImRlZmF1bHRcIiAmJiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobW9kLCBrKSkgX19jcmVhdGVCaW5kaW5nKHJlc3VsdCwgbW9kLCBrKTtcbiAgICBfX3NldE1vZHVsZURlZmF1bHQocmVzdWx0LCBtb2QpO1xuICAgIHJldHVybiByZXN1bHQ7XG59O1xudmFyIF9fYXdhaXRlciA9ICh0aGlzICYmIHRoaXMuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcbiAgICB9KTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkJpdHRlV2FsbGV0ID0gZXhwb3J0cy5UcmFuc2FjdGlvblN1Y2Nlc3NFbnVtID0gdm9pZCAwO1xuY29uc3QgbmVhckFQSSA9IF9faW1wb3J0U3RhcihyZXF1aXJlKFwibmVhci1hcGktanNcIikpO1xuY29uc3QgdXRpbHNfMSA9IHJlcXVpcmUoXCIuL3V0aWxzXCIpO1xuY29uc3Qgd2FsbGV0X3V0aWxzXzEgPSByZXF1aXJlKFwiQG5lYXItd2FsbGV0LXNlbGVjdG9yL3dhbGxldC11dGlsc1wiKTtcbnZhciBUcmFuc2FjdGlvblN1Y2Nlc3NFbnVtO1xuKGZ1bmN0aW9uIChUcmFuc2FjdGlvblN1Y2Nlc3NFbnVtKSB7XG4gICAgVHJhbnNhY3Rpb25TdWNjZXNzRW51bVtcIk1JTlRcIl0gPSBcIm1pbnRcIjtcbiAgICBUcmFuc2FjdGlvblN1Y2Nlc3NFbnVtW1wiVFJBTlNGRVJcIl0gPSBcInRyYW5zZmVyXCI7XG4gICAgVHJhbnNhY3Rpb25TdWNjZXNzRW51bVtcIkJVUk5cIl0gPSBcImJ1cm5cIjtcbiAgICBUcmFuc2FjdGlvblN1Y2Nlc3NFbnVtW1wiREVQTE9ZX1NUT1JFXCJdID0gXCJkZXBsb3ktc3RvcmVcIjtcbiAgICBUcmFuc2FjdGlvblN1Y2Nlc3NFbnVtW1wiTUFLRV9PRkZFUlwiXSA9IFwibWFrZS1vZmZlclwiO1xuICAgIFRyYW5zYWN0aW9uU3VjY2Vzc0VudW1bXCJSRVZPS0VfTUlOVEVSXCJdID0gXCJyZXZva2UtbWludGVyXCI7XG4gICAgVHJhbnNhY3Rpb25TdWNjZXNzRW51bVtcIkFERF9NSU5URVJcIl0gPSBcImFkZC1taW50ZXJcIjtcbiAgICBUcmFuc2FjdGlvblN1Y2Nlc3NFbnVtW1wiVFJBTlNGRVJfU1RPUkVfT1dORVJTSElQXCJdID0gXCJ0cmFuc2Zlci1zdG9yZS1vd25lcnNoaXBcIjtcbiAgICBUcmFuc2FjdGlvblN1Y2Nlc3NFbnVtW1wiQVVDVElPTl9MSVNUXCJdID0gXCJsaXN0XCI7XG4gICAgVHJhbnNhY3Rpb25TdWNjZXNzRW51bVtcIlNJTVBMRV9TQUxFX0xJU1RcIl0gPSBcInNpbXBsZS1zYWxlLWxpc3RcIjtcbiAgICBUcmFuc2FjdGlvblN1Y2Nlc3NFbnVtW1wiVU5MSVNUXCJdID0gXCJ1bmxpc3RcIjtcbiAgICBUcmFuc2FjdGlvblN1Y2Nlc3NFbnVtW1wiVEFLRV9PRkZFUlwiXSA9IFwidGFrZS1vZmZlclwiO1xuICAgIFRyYW5zYWN0aW9uU3VjY2Vzc0VudW1bXCJXSVRIRFJBV19PRkZFUlwiXSA9IFwid2l0aGRyYXctb2ZmZXJcIjtcbn0pKFRyYW5zYWN0aW9uU3VjY2Vzc0VudW0gPSBleHBvcnRzLlRyYW5zYWN0aW9uU3VjY2Vzc0VudW0gfHwgKGV4cG9ydHMuVHJhbnNhY3Rpb25TdWNjZXNzRW51bSA9IHt9KSk7XG5jb25zdCBCaXR0ZVdhbGxldCA9ICh7IG1ldGFkYXRhLCBvcHRpb25zLCBzdWNjZXNzVXJsLCBmYWlsdXJlVXJsLCBjb250cmFjdElkLCBjYWxsYmFjaywgbmV0d29ya0lkLCB9KSA9PiBfX2F3YWl0ZXIodm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICBjb25zdCBzZXR1cFdhbGxldFN0YXRlID0gKCkgPT4gX19hd2FpdGVyKHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgY29ubmVjdCwgV2FsbGV0Q29ubmVjdGlvbiwga2V5U3RvcmVzIH0gPSBuZWFyQVBJO1xuICAgICAgICAgICAgY29uc3QgY29ubmVjdGlvbkNvbmZpZyA9IHtcbiAgICAgICAgICAgICAgICBuZXR3b3JrSWQ6IG5ldHdvcmtJZCxcbiAgICAgICAgICAgICAgICBrZXlTdG9yZTogbmV3IGtleVN0b3Jlcy5Ccm93c2VyTG9jYWxTdG9yYWdlS2V5U3RvcmUoKSxcbiAgICAgICAgICAgICAgICBub2RlVXJsOiBvcHRpb25zLm5ldHdvcmsubm9kZVVybCxcbiAgICAgICAgICAgICAgICB3YWxsZXRVcmw6IG1ldGFkYXRhLndhbGxldFVybCxcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7fSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBzZWFyY2hQYXJhbXMgPSBuZXcgVVJMKHdpbmRvdy5sb2NhdGlvbi5ocmVmKTtcbiAgICAgICAgICAgIGNvbnN0IGFjYyA9IHNlYXJjaFBhcmFtcy5zZWFyY2hQYXJhbXMuZ2V0KCdhY2NvdW50X2lkJyk7XG4gICAgICAgICAgICAvL21ha2UgbmVhci1hcGktanMgbm90IHRocm93IHdpdGhvdXQgbGFrXG4gICAgICAgICAgICBpZiAoYWNjICYmICFjb250cmFjdElkKSB7XG4gICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ21pbnRiYXNlLXdhbGxldF93YWxsZXRfYXV0aF9rZXknLCBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICAgICAgICAgIGFjY291bnRJZDogYWNjLFxuICAgICAgICAgICAgICAgICAgICBhbGxLZXlzOiBbXSxcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBuZWFyQ29ubmVjdGlvbiA9IHlpZWxkIGNvbm5lY3QoY29ubmVjdGlvbkNvbmZpZyk7XG4gICAgICAgICAgICBjb25zdCB3YWxsZXQgPSBuZXcgV2FsbGV0Q29ubmVjdGlvbihuZWFyQ29ubmVjdGlvbiwgJ21pbnRiYXNlLXdhbGxldCcpO1xuICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ21pbnRiYXNlLXdhbGxldDpjYWxsYmFja191cmwnLCBjYWxsYmFjayk7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHdhbGxldCxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfSk7XG4gICAgY29uc3Qgc3RhdGUgPSB5aWVsZCBzZXR1cFdhbGxldFN0YXRlKCk7XG4gICAgbGV0IGFjdGl2ZUFjY291bnRJZDtcbiAgICBjb25zdCBnZXRBY2NvdW50SWQgPSAoKSA9PiBhY3RpdmVBY2NvdW50SWQ7XG4gICAgY29uc3QgaXNTaWduZWRJbiA9ICgpID0+IF9fYXdhaXRlcih2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkgeyByZXR1cm4gISFhY3RpdmVBY2NvdW50SWQ7IH0pO1xuICAgIGNvbnN0IHNpZ25JbiA9ICgpID0+IF9fYXdhaXRlcih2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGNvbnN0IGV4aXN0aW5nQWNjb3VudHMgPSB5aWVsZCBnZXRBY2NvdW50cygpO1xuICAgICAgICBjb25zdCBocmVmID0gZW5jb2RlVVJJKChfYSA9IHdpbmRvdyA9PT0gbnVsbCB8fCB3aW5kb3cgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHdpbmRvdy5sb2NhdGlvbikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmhyZWYpO1xuICAgICAgICBpZiAoZXhpc3RpbmdBY2NvdW50cy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiBleGlzdGluZ0FjY291bnRzO1xuICAgICAgICB9XG4gICAgICAgIHlpZWxkIHN0YXRlLndhbGxldC5yZXF1ZXN0U2lnbkluKHtcbiAgICAgICAgICAgIG1ldGhvZE5hbWVzOiBbXSxcbiAgICAgICAgICAgIHN1Y2Nlc3NVcmw6IHN1Y2Nlc3NVcmwgfHwgaHJlZixcbiAgICAgICAgICAgIGZhaWx1cmVVcmw6IGZhaWx1cmVVcmwgfHwgaHJlZixcbiAgICAgICAgICAgIGNvbnRyYWN0SWQ6IGNvbnRyYWN0SWQsXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gZ2V0QWNjb3VudHMoKTtcbiAgICB9KTtcbiAgICBjb25zdCBzaWduT3V0ID0gKCkgPT4gX19hd2FpdGVyKHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnbWludGJhc2Utd2FsbGV0OmFjY291bnQtZGF0YScpO1xuICAgICAgICBpZiAoc3RhdGUud2FsbGV0LmlzU2lnbmVkSW4oKSkge1xuICAgICAgICAgICAgc3RhdGUud2FsbGV0LnNpZ25PdXQoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgfSk7XG4gICAgY29uc3QgYXNzZXJ0VmFsaWRTaWduZXIgPSAoc2lnbmVySWQpID0+IHtcbiAgICAgICAgaWYgKHNpZ25lcklkICYmIHNpZ25lcklkICE9PSBzdGF0ZS53YWxsZXQuZ2V0QWNjb3VudElkKCkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQ2Fubm90IHNpZ24gdHJhbnNhY3Rpb25zIGZvciAke3NpZ25lcklkfSB3aGlsZSBzaWduZWQgaW4gYXMgJHthY3RpdmVBY2NvdW50SWR9YCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IHNpZ25BbmRTZW5kVHJhbnNhY3Rpb25zID0gKHsgdHJhbnNhY3Rpb25zLCBjYWxsYmFja1VybCB9KSA9PiBfX2F3YWl0ZXIodm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgaWYgKCFzdGF0ZS53YWxsZXQuaXNTaWduZWRJbigpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1dhbGxldCBub3Qgc2lnbmVkIGluJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8vLyBuZWFyLWFwaS1qcyBjb2RlIGZhaWxzIGlmIG5vIGxha1xuICAgICAgICAvLyBjb25zdCB7IGNiVXJsIH0gPSBnZXRDYWxsYmFja1VybChjYWxsYmFja1VybCA/PyAnJyk7XG4gICAgICAgIC8vIHJldHVybiBzdGF0ZS53YWxsZXQucmVxdWVzdFNpZ25UcmFuc2FjdGlvbnMoe1xuICAgICAgICAvLyAgIHRyYW5zYWN0aW9uczogYXdhaXQgdHJhbnNmb3JtVHJhbnNhY3Rpb25zKHRyYW5zYWN0aW9ucyksXG4gICAgICAgIC8vICAgY2FsbGJhY2tVcmw6IGNiVXJsLFxuICAgICAgICAvLyB9KTtcbiAgICAgICAgY29uc3QgeyBjYlVybCB9ID0gKDAsIHV0aWxzXzEuZ2V0Q2FsbGJhY2tVcmwpKGNhbGxiYWNrVXJsICE9PSBudWxsICYmIGNhbGxiYWNrVXJsICE9PSB2b2lkIDAgPyBjYWxsYmFja1VybCA6ICcnKTtcbiAgICAgICAgZm9yIChjb25zdCB7IHNpZ25lcklkIH0gb2YgdHJhbnNhY3Rpb25zKSB7XG4gICAgICAgICAgICBhc3NlcnRWYWxpZFNpZ25lcihzaWduZXJJZCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc3RyaW5naWZpZWRQYXJhbSA9IEpTT04uc3RyaW5naWZ5KHRyYW5zYWN0aW9ucyk7XG4gICAgICAgIGNvbnN0IHVybFBhcmFtID0gZW5jb2RlVVJJQ29tcG9uZW50KHN0cmluZ2lmaWVkUGFyYW0pO1xuICAgICAgICBjb25zdCBuZXdVcmwgPSBuZXcgVVJMKGAke21ldGFkYXRhLndhbGxldFVybH0vc2lnbi10cmFuc2FjdGlvbmApO1xuICAgICAgICBuZXdVcmwuc2VhcmNoUGFyYW1zLnNldCgndHJhbnNhY3Rpb25zX2RhdGEnLCB1cmxQYXJhbSk7XG4gICAgICAgIG5ld1VybC5zZWFyY2hQYXJhbXMuc2V0KCdjYWxsYmFja191cmwnLCBjYlVybCk7XG4gICAgICAgIHdpbmRvdy5sb2NhdGlvbi5hc3NpZ24obmV3VXJsLnRvU3RyaW5nKCkpO1xuICAgICAgICByZXR1cm47XG4gICAgfSk7XG4gICAgY29uc3Qgc2lnbkFuZFNlbmRUcmFuc2FjdGlvbiA9ICh7IHJlY2VpdmVySWQsIGFjdGlvbnMsIHNpZ25lcklkLCBjYWxsYmFja1VybCwgfSkgPT4gX19hd2FpdGVyKHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgIGFzc2VydFZhbGlkU2lnbmVyKHNpZ25lcklkKTtcbiAgICAgICAgaWYgKCFyZWNlaXZlcklkICYmICFjb250cmFjdElkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIHJlY2VpdmVyIGZvdW5kIHRvIHNlbmQgdGhlIHRyYW5zYWN0aW9uIHRvJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgeyBjYlVybCB9ID0gKDAsIHV0aWxzXzEuZ2V0Q2FsbGJhY2tVcmwpKGNhbGxiYWNrVXJsICE9PSBudWxsICYmIGNhbGxiYWNrVXJsICE9PSB2b2lkIDAgPyBjYWxsYmFja1VybCA6ICcnKTtcbiAgICAgICAgY29uc3QgY2FsbGJhY2sgPSBjYlVybCB8fCBzdWNjZXNzVXJsO1xuICAgICAgICBpZiAoIWNvbnRyYWN0SWQpIHtcbiAgICAgICAgICAgIGNvbnN0IG5ld1VybCA9IG5ldyBVUkwoYCR7bWV0YWRhdGEud2FsbGV0VXJsfS9zaWduLXRyYW5zYWN0aW9uYCk7XG4gICAgICAgICAgICBjb25zdCBzdHJpbmdpZmllZFBhcmFtID0gSlNPTi5zdHJpbmdpZnkoW3sgcmVjZWl2ZXJJZCwgc2lnbmVySWQsIGFjdGlvbnMgfV0pO1xuICAgICAgICAgICAgY29uc3QgdXJsUGFyYW0gPSBlbmNvZGVVUklDb21wb25lbnQoc3RyaW5naWZpZWRQYXJhbSk7XG4gICAgICAgICAgICBuZXdVcmwuc2VhcmNoUGFyYW1zLnNldCgndHJhbnNhY3Rpb25zX2RhdGEnLCB1cmxQYXJhbSk7XG4gICAgICAgICAgICBuZXdVcmwuc2VhcmNoUGFyYW1zLnNldCgnY2FsbGJhY2tfdXJsJywgY2FsbGJhY2spO1xuICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmFzc2lnbihuZXdVcmwudG9TdHJpbmcoKSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYWNjb3VudCA9IHN0YXRlLndhbGxldC5hY2NvdW50KCk7XG4gICAgICAgIHJldHVybiB5aWVsZCBhY2NvdW50LnNpZ25BbmRTZW5kVHJhbnNhY3Rpb24oe1xuICAgICAgICAgICAgcmVjZWl2ZXJJZDogcmVjZWl2ZXJJZCB8fCBjb250cmFjdElkLFxuICAgICAgICAgICAgYWN0aW9uczogYWN0aW9ucy5tYXAoKGFjdGlvbikgPT4gKDAsIHdhbGxldF91dGlsc18xLmNyZWF0ZUFjdGlvbikoYWN0aW9uKSksXG4gICAgICAgICAgICB3YWxsZXRDYWxsYmFja1VybDogY2FsbGJhY2ssXG4gICAgICAgIH0pO1xuICAgIH0pO1xuICAgIGNvbnN0IHZlcmlmeU93bmVyID0gKCkgPT4gX19hd2FpdGVyKHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgVGhlIHZlcmlmeU93bmVyIG1ldGhvZCBpcyBub3Qgc3VwcG9ydGVkIGJ5ICR7bWV0YWRhdGEubmFtZX1gKTtcbiAgICB9KTtcbiAgICBjb25zdCBzaWduTWVzc2FnZSA9ICh7IG1lc3NhZ2UsIG5vbmNlLCByZWNpcGllbnQsIGNhbGxiYWNrVXJsIH0pID0+IF9fYXdhaXRlcih2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICBjb25zdCB7IGNiVXJsIH0gPSAoMCwgdXRpbHNfMS5nZXRDYWxsYmFja1VybCkoY2FsbGJhY2tVcmwgIT09IG51bGwgJiYgY2FsbGJhY2tVcmwgIT09IHZvaWQgMCA/IGNhbGxiYWNrVXJsIDogJycpO1xuICAgICAgICBjb25zdCBuZXdVcmwgPSBuZXcgVVJMKGAke21ldGFkYXRhLndhbGxldFVybH0vc2lnbi1tZXNzYWdlYCk7XG4gICAgICAgIG5ld1VybC5zZWFyY2hQYXJhbXMuc2V0KCdtZXNzYWdlJywgbWVzc2FnZSk7XG4gICAgICAgIG5ld1VybC5zZWFyY2hQYXJhbXMuc2V0KCdub25jZScsIEJ1ZmZlci5mcm9tKG5vbmNlKS50b1N0cmluZygnYmFzZTY0JykpO1xuICAgICAgICBuZXdVcmwuc2VhcmNoUGFyYW1zLnNldCgncmVjaXBpZW50JywgcmVjaXBpZW50KTtcbiAgICAgICAgbmV3VXJsLnNlYXJjaFBhcmFtcy5zZXQoJ2NhbGxiYWNrVXJsJywgY2JVcmwpO1xuICAgICAgICB3aW5kb3cubG9jYXRpb24uYXNzaWduKG5ld1VybC50b1N0cmluZygpKTtcbiAgICB9KTtcbiAgICBjb25zdCB2ZXJpZnlNZXNzYWdlID0gKHsgYWNjb3VudElkLCBwdWJsaWNLZXksIHNpZ25hdHVyZSwgbWVzc2FnZSwgbm9uY2UsIHJlY2lwaWVudCwgY2FsbGJhY2tVcmwgfSkgPT4gX19hd2FpdGVyKHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgIGNvbnN0IG5ld1VybCA9IG5ldyBVUkwoYCR7bWV0YWRhdGEud2FsbGV0VXJsfS9hcGkvdmVyaWZ5LW1lc3NhZ2VgKTtcbiAgICAgICAgbmV3VXJsLnNlYXJjaFBhcmFtcy5zZXQoJ21lc3NhZ2UnLCBtZXNzYWdlKTtcbiAgICAgICAgbmV3VXJsLnNlYXJjaFBhcmFtcy5zZXQoJ2FjY291bnRJZCcsIGFjY291bnRJZCk7XG4gICAgICAgIG5ld1VybC5zZWFyY2hQYXJhbXMuc2V0KCdwdWJsaWNLZXknLCBwdWJsaWNLZXkpO1xuICAgICAgICBuZXdVcmwuc2VhcmNoUGFyYW1zLnNldCgnc2lnbmF0dXJlJywgc2lnbmF0dXJlKTtcbiAgICAgICAgbmV3VXJsLnNlYXJjaFBhcmFtcy5zZXQoJ25vbmNlJywgQnVmZmVyLmZyb20obm9uY2UpLnRvU3RyaW5nKCdiYXNlNjQnKSk7XG4gICAgICAgIG5ld1VybC5zZWFyY2hQYXJhbXMuc2V0KCdyZWNpcGllbnQnLCByZWNpcGllbnQpO1xuICAgICAgICBuZXdVcmwuc2VhcmNoUGFyYW1zLnNldCgnY2FsbGJhY2tVcmwnLCBjYWxsYmFja1VybCk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIGZldGNoKG5ld1VybC50b1N0cmluZygpKTtcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSB5aWVsZCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgICAgICBjb25zdCB7IGlzVmFsaWQgfSA9IGRhdGE7XG4gICAgICAgICAgICByZXR1cm4gaXNWYWxpZDtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgY29uc3QgZ2V0QXZhaWxhYmxlQmFsYW5jZSA9ICgpID0+IF9fYXdhaXRlcih2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAvLyBjb25zdCBhY2NvdW50SWQgPSBzdGF0ZS53YWxsZXQuZ2V0QWNjb3VudElkKCk7XG4gICAgICAgIC8vIHJldHVybiBhd2FpdCBnZXRCYWxhbmNlKGFjY291bnRJZCk7XG4gICAgICAgIHRocm93IChgVGhlIGdldEF2YWlsYWJsZUJhbGFuY2UgbWV0aG9kIGlzIG5vdCBzdXBwb3J0ZWQgYnkgJHttZXRhZGF0YS5uYW1lfWApO1xuICAgIH0pO1xuICAgIGNvbnN0IGdldEFjY291bnRzID0gKCkgPT4gX19hd2FpdGVyKHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgIHZhciBfYjtcbiAgICAgICAgY29uc3QgYWNjb3VudElkID0gc3RhdGUud2FsbGV0LmdldEFjY291bnRJZCgpO1xuICAgICAgICBjb25zdCBhY2NvdW50ID0gc3RhdGUud2FsbGV0LmFjY291bnQoKTtcbiAgICAgICAgaWYgKCFhY2NvdW50SWQgfHwgIWFjY291bnQpIHtcbiAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjdXJyZW50QWNjb3VudCA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnbWludGJhc2Utd2FsbGV0OmFjY291bnQtY3JlYXRpb24tZGF0YScpO1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGFjY291bnRJZCxcbiAgICAgICAgICAgICAgICBwdWJsaWNLZXk6IChfYiA9IEpTT04ucGFyc2UoY3VycmVudEFjY291bnQpKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuZGV2aWNlUHVibGljS2V5LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgXTtcbiAgICB9KTtcbiAgICBjb25zdCBzd2l0Y2hBY2NvdW50ID0gKGlkKSA9PiBfX2F3YWl0ZXIodm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgLy9UT0RPIGZpeFxuICAgICAgICBzZXRBY3RpdmVBY2NvdW50SWQoaWQpO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9KTtcbiAgICBjb25zdCBzZXRBY3RpdmVBY2NvdW50SWQgPSAoYWNjb3VudElkKSA9PiB7XG4gICAgICAgIGFjdGl2ZUFjY291bnRJZCA9IGFjY291bnRJZDtcbiAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKCdtaW50YmFzZS13YWxsZXQ6YWN0aXZlQWNjb3VudElkJywgYWNjb3VudElkKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcbiAgICAvLyBjb25zdCB0cmFuc2Zvcm1UcmFuc2FjdGlvbnMgPSBhc3luYyAoXG4gICAgLy8gICB0cmFuc2FjdGlvbnM6IEFycmF5PE9wdGlvbmFsPFRyYW5zYWN0aW9uLCAnc2lnbmVySWQnPj4sXG4gICAgLy8gKTogUHJvbWlzZTxBcnJheTxuZWFyQVBJLnRyYW5zYWN0aW9ucy5UcmFuc2FjdGlvbj4+ID0+IHtcbiAgICAvLyAgIGNvbnN0IGFjY291bnQgPSBzdGF0ZS53YWxsZXQuYWNjb3VudCgpO1xuICAgIC8vICAgY29uc3QgeyBuZXR3b3JrSWQsIHNpZ25lciwgcHJvdmlkZXIgfSA9IGFjY291bnQuY29ubmVjdGlvbjtcbiAgICAvLyAgIGNvbnN0IGxvY2FsS2V5ID0gYXdhaXQgc2lnbmVyLmdldFB1YmxpY0tleShhY2NvdW50LmFjY291bnRJZCwgbmV0d29ya0lkKTtcbiAgICAvLyAgIHJldHVybiBQcm9taXNlLmFsbChcbiAgICAvLyAgICAgdHJhbnNhY3Rpb25zLm1hcChhc3luYyAodHJhbnNhY3Rpb24sIGluZGV4KSA9PiB7XG4gICAgLy8gICAgICAgY29uc3QgYWN0aW9ucyA9IHRyYW5zYWN0aW9uLmFjdGlvbnMubWFwKChhY3Rpb24pID0+XG4gICAgLy8gICAgICAgICBjcmVhdGVBY3Rpb24oYWN0aW9uKSxcbiAgICAvLyAgICAgICApO1xuICAgIC8vICAgICAgIGNvbnN0IGFjY2Vzc0tleSA9IGF3YWl0IGFjY291bnQuYWNjZXNzS2V5Rm9yVHJhbnNhY3Rpb24oXG4gICAgLy8gICAgICAgICB0cmFuc2FjdGlvbi5yZWNlaXZlcklkLFxuICAgIC8vICAgICAgICAgYWN0aW9ucyBhcyBhbnksXG4gICAgLy8gICAgICAgICBsb2NhbEtleSxcbiAgICAvLyAgICAgICApO1xuICAgIC8vICAgICAgIGlmICghYWNjZXNzS2V5KSB7XG4gICAgLy8gICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgLy8gICAgICAgICAgIGBGYWlsZWQgdG8gZmluZCBtYXRjaGluZyBrZXkgZm9yIHRyYW5zYWN0aW9uIHNlbnQgdG8gJHt0cmFuc2FjdGlvbi5yZWNlaXZlcklkfWAsXG4gICAgLy8gICAgICAgICApO1xuICAgIC8vICAgICAgIH1cbiAgICAvLyAgICAgICBjb25zdCBibG9jayA9IGF3YWl0IHByb3ZpZGVyLmJsb2NrKHsgZmluYWxpdHk6ICdmaW5hbCcgfSk7XG4gICAgLy8gICAgICAgcmV0dXJuIG5lYXJBUEkudHJhbnNhY3Rpb25zLmNyZWF0ZVRyYW5zYWN0aW9uKFxuICAgIC8vICAgICAgICAgYWNjb3VudC5hY2NvdW50SWQsXG4gICAgLy8gICAgICAgICBuZWFyQVBJLnV0aWxzLlB1YmxpY0tleS5mcm9tKGFjY2Vzc0tleS5wdWJsaWNfa2V5KSxcbiAgICAvLyAgICAgICAgIHRyYW5zYWN0aW9uLnJlY2VpdmVySWQsXG4gICAgLy8gICAgICAgICBhY2Nlc3NLZXkuYWNjZXNzX2tleS5ub25jZSArIGluZGV4ICsgMSxcbiAgICAvLyAgICAgICAgIGFjdGlvbnMgYXMgYW55LFxuICAgIC8vICAgICAgICAgbmVhckFQSS51dGlscy5zZXJpYWxpemUuYmFzZV9kZWNvZGUoYmxvY2suaGVhZGVyLmhhc2gpLFxuICAgIC8vICAgICAgICk7XG4gICAgLy8gICAgIH0pLFxuICAgIC8vICAgKTtcbiAgICAvLyB9O1xuICAgIHJldHVybiB7XG4gICAgICAgIGdldEFjY291bnRJZCxcbiAgICAgICAgaXNTaWduZWRJbixcbiAgICAgICAgc2lnbkluLFxuICAgICAgICBzaWduT3V0LFxuICAgICAgICBzaWduQW5kU2VuZFRyYW5zYWN0aW9uLFxuICAgICAgICB2ZXJpZnlPd25lcixcbiAgICAgICAgc2lnbk1lc3NhZ2UsXG4gICAgICAgIGdldEF2YWlsYWJsZUJhbGFuY2UsXG4gICAgICAgIGdldEFjY291bnRzLFxuICAgICAgICBzd2l0Y2hBY2NvdW50LFxuICAgICAgICBzaWduQW5kU2VuZFRyYW5zYWN0aW9ucyxcbiAgICAgICAgdmVyaWZ5TWVzc2FnZSxcbiAgICB9O1xufSk7XG5leHBvcnRzLkJpdHRlV2FsbGV0ID0gQml0dGVXYWxsZXQ7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1iaXR0ZS13YWxsZXQuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@mintbase-js/wallet/lib/bitte-wallet.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@mintbase-js/wallet/lib/index.js":
/*!*******************************************************!*\
  !*** ./node_modules/@mintbase-js/wallet/lib/index.js ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.setupMintbaseWallet = exports.setupBitteWallet = void 0;\nvar bitte_wallet_setup_1 = __webpack_require__(/*! ./bitte-wallet-setup */ \"(ssr)/./node_modules/@mintbase-js/wallet/lib/bitte-wallet-setup.js\");\nObject.defineProperty(exports, \"setupBitteWallet\", ({ enumerable: true, get: function () { return bitte_wallet_setup_1.setupBitteWallet; } }));\nvar setup_1 = __webpack_require__(/*! ./setup */ \"(ssr)/./node_modules/@mintbase-js/wallet/lib/setup.js\");\nObject.defineProperty(exports, \"setupMintbaseWallet\", ({ enumerable: true, get: function () { return setup_1.setupMintbaseWallet; } }));\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG1pbnRiYXNlLWpzL3dhbGxldC9saWIvaW5kZXguanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsMkJBQTJCLEdBQUcsd0JBQXdCO0FBQ3RELDJCQUEyQixtQkFBTyxDQUFDLGdHQUFzQjtBQUN6RCxvREFBbUQsRUFBRSxxQ0FBcUMsaURBQWlELEVBQUM7QUFDNUksY0FBYyxtQkFBTyxDQUFDLHNFQUFTO0FBQy9CLHVEQUFzRCxFQUFFLHFDQUFxQyx1Q0FBdUMsRUFBQztBQUNySSIsInNvdXJjZXMiOlsid2VicGFjazovL2hlbGxvLW5lYXIvLi9ub2RlX21vZHVsZXMvQG1pbnRiYXNlLWpzL3dhbGxldC9saWIvaW5kZXguanM/MzY1MSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuc2V0dXBNaW50YmFzZVdhbGxldCA9IGV4cG9ydHMuc2V0dXBCaXR0ZVdhbGxldCA9IHZvaWQgMDtcbnZhciBiaXR0ZV93YWxsZXRfc2V0dXBfMSA9IHJlcXVpcmUoXCIuL2JpdHRlLXdhbGxldC1zZXR1cFwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcInNldHVwQml0dGVXYWxsZXRcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGJpdHRlX3dhbGxldF9zZXR1cF8xLnNldHVwQml0dGVXYWxsZXQ7IH0gfSk7XG52YXIgc2V0dXBfMSA9IHJlcXVpcmUoXCIuL3NldHVwXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwic2V0dXBNaW50YmFzZVdhbGxldFwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gc2V0dXBfMS5zZXR1cE1pbnRiYXNlV2FsbGV0OyB9IH0pO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@mintbase-js/wallet/lib/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@mintbase-js/wallet/lib/mintbase-wallet.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@mintbase-js/wallet/lib/mintbase-wallet.js ***!
  \*****************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.MintbaseWallet = exports.TransactionSuccessEnum = void 0;\nconst nearAPI = __importStar(__webpack_require__(/*! near-api-js */ \"(ssr)/./node_modules/near-api-js/lib/index.js\"));\nconst utils_1 = __webpack_require__(/*! ./utils */ \"(ssr)/./node_modules/@mintbase-js/wallet/lib/utils.js\");\nconst wallet_utils_1 = __webpack_require__(/*! @near-wallet-selector/wallet-utils */ \"(ssr)/./node_modules/@near-wallet-selector/wallet-utils/index.js\");\nvar TransactionSuccessEnum;\n(function (TransactionSuccessEnum) {\n    TransactionSuccessEnum[\"MINT\"] = \"mint\";\n    TransactionSuccessEnum[\"TRANSFER\"] = \"transfer\";\n    TransactionSuccessEnum[\"BURN\"] = \"burn\";\n    TransactionSuccessEnum[\"DEPLOY_STORE\"] = \"deploy-store\";\n    TransactionSuccessEnum[\"MAKE_OFFER\"] = \"make-offer\";\n    TransactionSuccessEnum[\"REVOKE_MINTER\"] = \"revoke-minter\";\n    TransactionSuccessEnum[\"ADD_MINTER\"] = \"add-minter\";\n    TransactionSuccessEnum[\"TRANSFER_STORE_OWNERSHIP\"] = \"transfer-store-ownership\";\n    TransactionSuccessEnum[\"AUCTION_LIST\"] = \"list\";\n    TransactionSuccessEnum[\"SIMPLE_SALE_LIST\"] = \"simple-sale-list\";\n    TransactionSuccessEnum[\"UNLIST\"] = \"unlist\";\n    TransactionSuccessEnum[\"TAKE_OFFER\"] = \"take-offer\";\n    TransactionSuccessEnum[\"WITHDRAW_OFFER\"] = \"withdraw-offer\";\n})(TransactionSuccessEnum = exports.TransactionSuccessEnum || (exports.TransactionSuccessEnum = {}));\nconst MintbaseWallet = ({ metadata, options, successUrl, failureUrl, contractId, callback, networkId, }) => __awaiter(void 0, void 0, void 0, function* () {\n    const setupWalletState = () => __awaiter(void 0, void 0, void 0, function* () {\n        if (typeof window !== undefined) {\n            const { connect, WalletConnection, keyStores } = nearAPI;\n            const connectionConfig = {\n                networkId: networkId,\n                keyStore: new keyStores.BrowserLocalStorageKeyStore(),\n                nodeUrl: options.network.nodeUrl,\n                walletUrl: metadata.walletUrl,\n                headers: {},\n            };\n            const searchParams = new URL(window.location.href);\n            const acc = searchParams.searchParams.get('account_id');\n            //make near-api-js not throw without lak\n            if (acc && !contractId) {\n                localStorage.setItem('mintbase-wallet_wallet_auth_key', JSON.stringify({\n                    accountId: acc,\n                    allKeys: [],\n                }));\n            }\n            const nearConnection = yield connect(connectionConfig);\n            const wallet = new WalletConnection(nearConnection, 'mintbase-wallet');\n            localStorage.setItem('mintbase-wallet:callback_url', callback);\n            return {\n                wallet,\n            };\n        }\n        return null;\n    });\n    const state = yield setupWalletState();\n    let activeAccountId;\n    const getAccountId = () => activeAccountId;\n    const isSignedIn = () => __awaiter(void 0, void 0, void 0, function* () { return !!activeAccountId; });\n    const signIn = () => __awaiter(void 0, void 0, void 0, function* () {\n        var _a;\n        const existingAccounts = yield getAccounts();\n        const href = encodeURI((_a = window === null || window === void 0 ? void 0 : window.location) === null || _a === void 0 ? void 0 : _a.href);\n        if (existingAccounts.length) {\n            return existingAccounts;\n        }\n        yield state.wallet.requestSignIn({\n            methodNames: [],\n            successUrl: successUrl || href,\n            failureUrl: failureUrl || href,\n            contractId: contractId,\n        });\n        return getAccounts();\n    });\n    const signOut = () => __awaiter(void 0, void 0, void 0, function* () {\n        window.localStorage.removeItem('mintbase-wallet:account-data');\n        if (state.wallet.isSignedIn()) {\n            state.wallet.signOut();\n        }\n        return;\n    });\n    const assertValidSigner = (signerId) => {\n        if (signerId && signerId !== state.wallet.getAccountId()) {\n            throw new Error(`Cannot sign transactions for ${signerId} while signed in as ${activeAccountId}`);\n        }\n    };\n    const signAndSendTransactions = ({ transactions, callbackUrl }) => __awaiter(void 0, void 0, void 0, function* () {\n        if (!state.wallet.isSignedIn()) {\n            throw new Error('Wallet not signed in');\n        }\n        //// near-api-js code fails if no lak\n        // const { cbUrl } = getCallbackUrl(callbackUrl ?? '');\n        // return state.wallet.requestSignTransactions({\n        //   transactions: await transformTransactions(transactions),\n        //   callbackUrl: cbUrl,\n        // });\n        const { cbUrl } = (0, utils_1.getCallbackUrl)(callbackUrl !== null && callbackUrl !== void 0 ? callbackUrl : '');\n        for (const { signerId } of transactions) {\n            assertValidSigner(signerId);\n        }\n        const stringifiedParam = JSON.stringify(transactions);\n        const urlParam = encodeURIComponent(stringifiedParam);\n        const newUrl = new URL(`${metadata.walletUrl}/sign-transaction`);\n        newUrl.searchParams.set('transactions_data', urlParam);\n        newUrl.searchParams.set('callback_url', cbUrl);\n        window.location.assign(newUrl.toString());\n        return;\n    });\n    const signAndSendTransaction = ({ receiverId, actions, signerId, callbackUrl, }) => __awaiter(void 0, void 0, void 0, function* () {\n        assertValidSigner(signerId);\n        if (!receiverId && !contractId) {\n            throw new Error('No receiver found to send the transaction to');\n        }\n        const { cbUrl } = (0, utils_1.getCallbackUrl)(callbackUrl !== null && callbackUrl !== void 0 ? callbackUrl : '');\n        const callback = cbUrl || successUrl;\n        if (!contractId) {\n            const newUrl = new URL(`${metadata.walletUrl}/sign-transaction`);\n            const stringifiedParam = JSON.stringify([{ receiverId, signerId, actions }]);\n            const urlParam = encodeURIComponent(stringifiedParam);\n            newUrl.searchParams.set('transactions_data', urlParam);\n            newUrl.searchParams.set('callback_url', callback);\n            window.location.assign(newUrl.toString());\n        }\n        const account = state.wallet.account();\n        return account.signAndSendTransaction({\n            receiverId: receiverId || contractId,\n            actions: actions.map((action) => (0, wallet_utils_1.createAction)(action)),\n            walletCallbackUrl: callback,\n        });\n    });\n    const verifyOwner = () => __awaiter(void 0, void 0, void 0, function* () {\n        throw new Error(`The verifyOwner method is not supported by ${metadata.name}`);\n    });\n    const signMessage = ({ message, nonce, recipient, callbackUrl }) => __awaiter(void 0, void 0, void 0, function* () {\n        const { cbUrl } = (0, utils_1.getCallbackUrl)(callbackUrl !== null && callbackUrl !== void 0 ? callbackUrl : '');\n        const newUrl = new URL(`${metadata.walletUrl}/sign-message`);\n        newUrl.searchParams.set('message', message);\n        newUrl.searchParams.set('nonce', Buffer.from(nonce).toString('base64'));\n        newUrl.searchParams.set('recipient', recipient);\n        newUrl.searchParams.set('callbackUrl', cbUrl);\n        window.location.assign(newUrl.toString());\n    });\n    const verifyMessage = ({ accountId, publicKey, signature, message, nonce, recipient, callbackUrl }) => __awaiter(void 0, void 0, void 0, function* () {\n        const newUrl = new URL(`${metadata.walletUrl}/api/verify-message`);\n        newUrl.searchParams.set('message', message);\n        newUrl.searchParams.set('accountId', accountId);\n        newUrl.searchParams.set('publicKey', publicKey);\n        newUrl.searchParams.set('signature', signature);\n        newUrl.searchParams.set('nonce', Buffer.from(nonce).toString('base64'));\n        newUrl.searchParams.set('recipient', recipient);\n        newUrl.searchParams.set('callbackUrl', callbackUrl);\n        try {\n            const response = yield fetch(newUrl.toString());\n            const data = yield response.json();\n            const { isValid } = data;\n            return isValid;\n        }\n        catch (e) {\n            return false;\n        }\n    });\n    const getAvailableBalance = () => __awaiter(void 0, void 0, void 0, function* () {\n        // const accountId = state.wallet.getAccountId();\n        // return await getBalance(accountId);\n        throw (`The getAvailableBalance method is not supported by ${metadata.name}`);\n    });\n    const getAccounts = () => __awaiter(void 0, void 0, void 0, function* () {\n        var _b;\n        const accountId = state.wallet.getAccountId();\n        const account = state.wallet.account();\n        if (!accountId || !account) {\n            return [];\n        }\n        const currentAccount = window.localStorage.getItem('mintbase-wallet:account-creation-data');\n        return [\n            {\n                accountId,\n                publicKey: (_b = JSON.parse(currentAccount)) === null || _b === void 0 ? void 0 : _b.devicePublicKey,\n            },\n        ];\n    });\n    const switchAccount = (id) => __awaiter(void 0, void 0, void 0, function* () {\n        //TODO fix\n        setActiveAccountId(id);\n        return null;\n    });\n    const setActiveAccountId = (accountId) => {\n        activeAccountId = accountId;\n        window.localStorage.setItem('mintbase-wallet:activeAccountId', accountId);\n        return null;\n    };\n    // const transformTransactions = async (\n    //   transactions: Array<Optional<Transaction, 'signerId'>>,\n    // ): Promise<Array<nearAPI.transactions.Transaction>> => {\n    //   const account = state.wallet.account();\n    //   const { networkId, signer, provider } = account.connection;\n    //   const localKey = await signer.getPublicKey(account.accountId, networkId);\n    //   return Promise.all(\n    //     transactions.map(async (transaction, index) => {\n    //       const actions = transaction.actions.map((action) =>\n    //         createAction(action),\n    //       );\n    //       const accessKey = await account.accessKeyForTransaction(\n    //         transaction.receiverId,\n    //         actions as any,\n    //         localKey,\n    //       );\n    //       if (!accessKey) {\n    //         throw new Error(\n    //           `Failed to find matching key for transaction sent to ${transaction.receiverId}`,\n    //         );\n    //       }\n    //       const block = await provider.block({ finality: 'final' });\n    //       return nearAPI.transactions.createTransaction(\n    //         account.accountId,\n    //         nearAPI.utils.PublicKey.from(accessKey.public_key),\n    //         transaction.receiverId,\n    //         accessKey.access_key.nonce + index + 1,\n    //         actions as any,\n    //         nearAPI.utils.serialize.base_decode(block.header.hash),\n    //       );\n    //     }),\n    //   );\n    // };\n    return {\n        getAccountId,\n        isSignedIn,\n        signIn,\n        signOut,\n        signAndSendTransaction,\n        verifyOwner,\n        signMessage,\n        getAvailableBalance,\n        getAccounts,\n        switchAccount,\n        signAndSendTransactions,\n        verifyMessage\n    };\n});\nexports.MintbaseWallet = MintbaseWallet;\n//# sourceMappingURL=mintbase-wallet.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG1pbnRiYXNlLWpzL3dhbGxldC9saWIvbWludGJhc2Utd2FsbGV0LmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLG9DQUFvQztBQUNuRDtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQSwwQ0FBMEMsNEJBQTRCO0FBQ3RFLENBQUM7QUFDRDtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLCtEQUErRCxpQkFBaUI7QUFDNUc7QUFDQSxvQ0FBb0MsTUFBTSwrQkFBK0IsWUFBWTtBQUNyRixtQ0FBbUMsTUFBTSxtQ0FBbUMsWUFBWTtBQUN4RixnQ0FBZ0M7QUFDaEM7QUFDQSxLQUFLO0FBQ0w7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0Qsc0JBQXNCLEdBQUcsOEJBQThCO0FBQ3ZELDZCQUE2QixtQkFBTyxDQUFDLGtFQUFhO0FBQ2xELGdCQUFnQixtQkFBTyxDQUFDLHNFQUFTO0FBQ2pDLHVCQUF1QixtQkFBTyxDQUFDLDRHQUFvQztBQUNuRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLDhEQUE4RCw4QkFBOEIsS0FBSztBQUNsRywwQkFBMEIsNkVBQTZFO0FBQ3ZHO0FBQ0E7QUFDQSxvQkFBb0IsdUNBQXVDO0FBQzNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkI7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsOEVBQThFLDJCQUEyQjtBQUN6RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSw0REFBNEQsVUFBVSxxQkFBcUIsZ0JBQWdCO0FBQzNHO0FBQ0E7QUFDQSx1Q0FBdUMsMkJBQTJCO0FBQ2xFO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLFFBQVE7QUFDM0I7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaLGdCQUFnQixRQUFRO0FBQ3hCLHFCQUFxQixXQUFXO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLG1CQUFtQjtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxzQ0FBc0MsNkNBQTZDO0FBQ25GO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLFFBQVE7QUFDeEI7QUFDQTtBQUNBLHNDQUFzQyxtQkFBbUI7QUFDekQsdURBQXVELCtCQUErQjtBQUN0RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxLQUFLO0FBQ0w7QUFDQSxzRUFBc0UsY0FBYztBQUNwRixLQUFLO0FBQ0wsMkJBQTJCLHdDQUF3QztBQUNuRSxnQkFBZ0IsUUFBUTtBQUN4QixrQ0FBa0MsbUJBQW1CO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsNkJBQTZCLHlFQUF5RTtBQUN0RyxrQ0FBa0MsbUJBQW1CO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLFVBQVU7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxxRUFBcUUsY0FBYztBQUNuRixLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQiw4QkFBOEI7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3RUFBd0UsdUJBQXVCO0FBQy9GO0FBQ0E7QUFDQSxrREFBa0QsbUJBQW1CO0FBQ3JFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Qsc0JBQXNCO0FBQ3RCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaGVsbG8tbmVhci8uL25vZGVfbW9kdWxlcy9AbWludGJhc2UtanMvd2FsbGV0L2xpYi9taW50YmFzZS13YWxsZXQuanM/NTA2ZSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2NyZWF0ZUJpbmRpbmcgPSAodGhpcyAmJiB0aGlzLl9fY3JlYXRlQmluZGluZykgfHwgKE9iamVjdC5jcmVhdGUgPyAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xuICAgIHZhciBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihtLCBrKTtcbiAgICBpZiAoIWRlc2MgfHwgKFwiZ2V0XCIgaW4gZGVzYyA/ICFtLl9fZXNNb2R1bGUgOiBkZXNjLndyaXRhYmxlIHx8IGRlc2MuY29uZmlndXJhYmxlKSkge1xuICAgICAgZGVzYyA9IHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIG1ba107IH0gfTtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIGsyLCBkZXNjKTtcbn0pIDogKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcbiAgICBvW2syXSA9IG1ba107XG59KSk7XG52YXIgX19zZXRNb2R1bGVEZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX3NldE1vZHVsZURlZmF1bHQpIHx8IChPYmplY3QuY3JlYXRlID8gKGZ1bmN0aW9uKG8sIHYpIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgXCJkZWZhdWx0XCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHYgfSk7XG59KSA6IGZ1bmN0aW9uKG8sIHYpIHtcbiAgICBvW1wiZGVmYXVsdFwiXSA9IHY7XG59KTtcbnZhciBfX2ltcG9ydFN0YXIgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0U3RhcikgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIGlmIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpIHJldHVybiBtb2Q7XG4gICAgdmFyIHJlc3VsdCA9IHt9O1xuICAgIGlmIChtb2QgIT0gbnVsbCkgZm9yICh2YXIgayBpbiBtb2QpIGlmIChrICE9PSBcImRlZmF1bHRcIiAmJiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobW9kLCBrKSkgX19jcmVhdGVCaW5kaW5nKHJlc3VsdCwgbW9kLCBrKTtcbiAgICBfX3NldE1vZHVsZURlZmF1bHQocmVzdWx0LCBtb2QpO1xuICAgIHJldHVybiByZXN1bHQ7XG59O1xudmFyIF9fYXdhaXRlciA9ICh0aGlzICYmIHRoaXMuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcbiAgICB9KTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLk1pbnRiYXNlV2FsbGV0ID0gZXhwb3J0cy5UcmFuc2FjdGlvblN1Y2Nlc3NFbnVtID0gdm9pZCAwO1xuY29uc3QgbmVhckFQSSA9IF9faW1wb3J0U3RhcihyZXF1aXJlKFwibmVhci1hcGktanNcIikpO1xuY29uc3QgdXRpbHNfMSA9IHJlcXVpcmUoXCIuL3V0aWxzXCIpO1xuY29uc3Qgd2FsbGV0X3V0aWxzXzEgPSByZXF1aXJlKFwiQG5lYXItd2FsbGV0LXNlbGVjdG9yL3dhbGxldC11dGlsc1wiKTtcbnZhciBUcmFuc2FjdGlvblN1Y2Nlc3NFbnVtO1xuKGZ1bmN0aW9uIChUcmFuc2FjdGlvblN1Y2Nlc3NFbnVtKSB7XG4gICAgVHJhbnNhY3Rpb25TdWNjZXNzRW51bVtcIk1JTlRcIl0gPSBcIm1pbnRcIjtcbiAgICBUcmFuc2FjdGlvblN1Y2Nlc3NFbnVtW1wiVFJBTlNGRVJcIl0gPSBcInRyYW5zZmVyXCI7XG4gICAgVHJhbnNhY3Rpb25TdWNjZXNzRW51bVtcIkJVUk5cIl0gPSBcImJ1cm5cIjtcbiAgICBUcmFuc2FjdGlvblN1Y2Nlc3NFbnVtW1wiREVQTE9ZX1NUT1JFXCJdID0gXCJkZXBsb3ktc3RvcmVcIjtcbiAgICBUcmFuc2FjdGlvblN1Y2Nlc3NFbnVtW1wiTUFLRV9PRkZFUlwiXSA9IFwibWFrZS1vZmZlclwiO1xuICAgIFRyYW5zYWN0aW9uU3VjY2Vzc0VudW1bXCJSRVZPS0VfTUlOVEVSXCJdID0gXCJyZXZva2UtbWludGVyXCI7XG4gICAgVHJhbnNhY3Rpb25TdWNjZXNzRW51bVtcIkFERF9NSU5URVJcIl0gPSBcImFkZC1taW50ZXJcIjtcbiAgICBUcmFuc2FjdGlvblN1Y2Nlc3NFbnVtW1wiVFJBTlNGRVJfU1RPUkVfT1dORVJTSElQXCJdID0gXCJ0cmFuc2Zlci1zdG9yZS1vd25lcnNoaXBcIjtcbiAgICBUcmFuc2FjdGlvblN1Y2Nlc3NFbnVtW1wiQVVDVElPTl9MSVNUXCJdID0gXCJsaXN0XCI7XG4gICAgVHJhbnNhY3Rpb25TdWNjZXNzRW51bVtcIlNJTVBMRV9TQUxFX0xJU1RcIl0gPSBcInNpbXBsZS1zYWxlLWxpc3RcIjtcbiAgICBUcmFuc2FjdGlvblN1Y2Nlc3NFbnVtW1wiVU5MSVNUXCJdID0gXCJ1bmxpc3RcIjtcbiAgICBUcmFuc2FjdGlvblN1Y2Nlc3NFbnVtW1wiVEFLRV9PRkZFUlwiXSA9IFwidGFrZS1vZmZlclwiO1xuICAgIFRyYW5zYWN0aW9uU3VjY2Vzc0VudW1bXCJXSVRIRFJBV19PRkZFUlwiXSA9IFwid2l0aGRyYXctb2ZmZXJcIjtcbn0pKFRyYW5zYWN0aW9uU3VjY2Vzc0VudW0gPSBleHBvcnRzLlRyYW5zYWN0aW9uU3VjY2Vzc0VudW0gfHwgKGV4cG9ydHMuVHJhbnNhY3Rpb25TdWNjZXNzRW51bSA9IHt9KSk7XG5jb25zdCBNaW50YmFzZVdhbGxldCA9ICh7IG1ldGFkYXRhLCBvcHRpb25zLCBzdWNjZXNzVXJsLCBmYWlsdXJlVXJsLCBjb250cmFjdElkLCBjYWxsYmFjaywgbmV0d29ya0lkLCB9KSA9PiBfX2F3YWl0ZXIodm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICBjb25zdCBzZXR1cFdhbGxldFN0YXRlID0gKCkgPT4gX19hd2FpdGVyKHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgY29ubmVjdCwgV2FsbGV0Q29ubmVjdGlvbiwga2V5U3RvcmVzIH0gPSBuZWFyQVBJO1xuICAgICAgICAgICAgY29uc3QgY29ubmVjdGlvbkNvbmZpZyA9IHtcbiAgICAgICAgICAgICAgICBuZXR3b3JrSWQ6IG5ldHdvcmtJZCxcbiAgICAgICAgICAgICAgICBrZXlTdG9yZTogbmV3IGtleVN0b3Jlcy5Ccm93c2VyTG9jYWxTdG9yYWdlS2V5U3RvcmUoKSxcbiAgICAgICAgICAgICAgICBub2RlVXJsOiBvcHRpb25zLm5ldHdvcmsubm9kZVVybCxcbiAgICAgICAgICAgICAgICB3YWxsZXRVcmw6IG1ldGFkYXRhLndhbGxldFVybCxcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7fSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBzZWFyY2hQYXJhbXMgPSBuZXcgVVJMKHdpbmRvdy5sb2NhdGlvbi5ocmVmKTtcbiAgICAgICAgICAgIGNvbnN0IGFjYyA9IHNlYXJjaFBhcmFtcy5zZWFyY2hQYXJhbXMuZ2V0KCdhY2NvdW50X2lkJyk7XG4gICAgICAgICAgICAvL21ha2UgbmVhci1hcGktanMgbm90IHRocm93IHdpdGhvdXQgbGFrXG4gICAgICAgICAgICBpZiAoYWNjICYmICFjb250cmFjdElkKSB7XG4gICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ21pbnRiYXNlLXdhbGxldF93YWxsZXRfYXV0aF9rZXknLCBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICAgICAgICAgIGFjY291bnRJZDogYWNjLFxuICAgICAgICAgICAgICAgICAgICBhbGxLZXlzOiBbXSxcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBuZWFyQ29ubmVjdGlvbiA9IHlpZWxkIGNvbm5lY3QoY29ubmVjdGlvbkNvbmZpZyk7XG4gICAgICAgICAgICBjb25zdCB3YWxsZXQgPSBuZXcgV2FsbGV0Q29ubmVjdGlvbihuZWFyQ29ubmVjdGlvbiwgJ21pbnRiYXNlLXdhbGxldCcpO1xuICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ21pbnRiYXNlLXdhbGxldDpjYWxsYmFja191cmwnLCBjYWxsYmFjayk7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHdhbGxldCxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfSk7XG4gICAgY29uc3Qgc3RhdGUgPSB5aWVsZCBzZXR1cFdhbGxldFN0YXRlKCk7XG4gICAgbGV0IGFjdGl2ZUFjY291bnRJZDtcbiAgICBjb25zdCBnZXRBY2NvdW50SWQgPSAoKSA9PiBhY3RpdmVBY2NvdW50SWQ7XG4gICAgY29uc3QgaXNTaWduZWRJbiA9ICgpID0+IF9fYXdhaXRlcih2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkgeyByZXR1cm4gISFhY3RpdmVBY2NvdW50SWQ7IH0pO1xuICAgIGNvbnN0IHNpZ25JbiA9ICgpID0+IF9fYXdhaXRlcih2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGNvbnN0IGV4aXN0aW5nQWNjb3VudHMgPSB5aWVsZCBnZXRBY2NvdW50cygpO1xuICAgICAgICBjb25zdCBocmVmID0gZW5jb2RlVVJJKChfYSA9IHdpbmRvdyA9PT0gbnVsbCB8fCB3aW5kb3cgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHdpbmRvdy5sb2NhdGlvbikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmhyZWYpO1xuICAgICAgICBpZiAoZXhpc3RpbmdBY2NvdW50cy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiBleGlzdGluZ0FjY291bnRzO1xuICAgICAgICB9XG4gICAgICAgIHlpZWxkIHN0YXRlLndhbGxldC5yZXF1ZXN0U2lnbkluKHtcbiAgICAgICAgICAgIG1ldGhvZE5hbWVzOiBbXSxcbiAgICAgICAgICAgIHN1Y2Nlc3NVcmw6IHN1Y2Nlc3NVcmwgfHwgaHJlZixcbiAgICAgICAgICAgIGZhaWx1cmVVcmw6IGZhaWx1cmVVcmwgfHwgaHJlZixcbiAgICAgICAgICAgIGNvbnRyYWN0SWQ6IGNvbnRyYWN0SWQsXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gZ2V0QWNjb3VudHMoKTtcbiAgICB9KTtcbiAgICBjb25zdCBzaWduT3V0ID0gKCkgPT4gX19hd2FpdGVyKHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnbWludGJhc2Utd2FsbGV0OmFjY291bnQtZGF0YScpO1xuICAgICAgICBpZiAoc3RhdGUud2FsbGV0LmlzU2lnbmVkSW4oKSkge1xuICAgICAgICAgICAgc3RhdGUud2FsbGV0LnNpZ25PdXQoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgfSk7XG4gICAgY29uc3QgYXNzZXJ0VmFsaWRTaWduZXIgPSAoc2lnbmVySWQpID0+IHtcbiAgICAgICAgaWYgKHNpZ25lcklkICYmIHNpZ25lcklkICE9PSBzdGF0ZS53YWxsZXQuZ2V0QWNjb3VudElkKCkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQ2Fubm90IHNpZ24gdHJhbnNhY3Rpb25zIGZvciAke3NpZ25lcklkfSB3aGlsZSBzaWduZWQgaW4gYXMgJHthY3RpdmVBY2NvdW50SWR9YCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IHNpZ25BbmRTZW5kVHJhbnNhY3Rpb25zID0gKHsgdHJhbnNhY3Rpb25zLCBjYWxsYmFja1VybCB9KSA9PiBfX2F3YWl0ZXIodm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgaWYgKCFzdGF0ZS53YWxsZXQuaXNTaWduZWRJbigpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1dhbGxldCBub3Qgc2lnbmVkIGluJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8vLyBuZWFyLWFwaS1qcyBjb2RlIGZhaWxzIGlmIG5vIGxha1xuICAgICAgICAvLyBjb25zdCB7IGNiVXJsIH0gPSBnZXRDYWxsYmFja1VybChjYWxsYmFja1VybCA/PyAnJyk7XG4gICAgICAgIC8vIHJldHVybiBzdGF0ZS53YWxsZXQucmVxdWVzdFNpZ25UcmFuc2FjdGlvbnMoe1xuICAgICAgICAvLyAgIHRyYW5zYWN0aW9uczogYXdhaXQgdHJhbnNmb3JtVHJhbnNhY3Rpb25zKHRyYW5zYWN0aW9ucyksXG4gICAgICAgIC8vICAgY2FsbGJhY2tVcmw6IGNiVXJsLFxuICAgICAgICAvLyB9KTtcbiAgICAgICAgY29uc3QgeyBjYlVybCB9ID0gKDAsIHV0aWxzXzEuZ2V0Q2FsbGJhY2tVcmwpKGNhbGxiYWNrVXJsICE9PSBudWxsICYmIGNhbGxiYWNrVXJsICE9PSB2b2lkIDAgPyBjYWxsYmFja1VybCA6ICcnKTtcbiAgICAgICAgZm9yIChjb25zdCB7IHNpZ25lcklkIH0gb2YgdHJhbnNhY3Rpb25zKSB7XG4gICAgICAgICAgICBhc3NlcnRWYWxpZFNpZ25lcihzaWduZXJJZCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc3RyaW5naWZpZWRQYXJhbSA9IEpTT04uc3RyaW5naWZ5KHRyYW5zYWN0aW9ucyk7XG4gICAgICAgIGNvbnN0IHVybFBhcmFtID0gZW5jb2RlVVJJQ29tcG9uZW50KHN0cmluZ2lmaWVkUGFyYW0pO1xuICAgICAgICBjb25zdCBuZXdVcmwgPSBuZXcgVVJMKGAke21ldGFkYXRhLndhbGxldFVybH0vc2lnbi10cmFuc2FjdGlvbmApO1xuICAgICAgICBuZXdVcmwuc2VhcmNoUGFyYW1zLnNldCgndHJhbnNhY3Rpb25zX2RhdGEnLCB1cmxQYXJhbSk7XG4gICAgICAgIG5ld1VybC5zZWFyY2hQYXJhbXMuc2V0KCdjYWxsYmFja191cmwnLCBjYlVybCk7XG4gICAgICAgIHdpbmRvdy5sb2NhdGlvbi5hc3NpZ24obmV3VXJsLnRvU3RyaW5nKCkpO1xuICAgICAgICByZXR1cm47XG4gICAgfSk7XG4gICAgY29uc3Qgc2lnbkFuZFNlbmRUcmFuc2FjdGlvbiA9ICh7IHJlY2VpdmVySWQsIGFjdGlvbnMsIHNpZ25lcklkLCBjYWxsYmFja1VybCwgfSkgPT4gX19hd2FpdGVyKHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgIGFzc2VydFZhbGlkU2lnbmVyKHNpZ25lcklkKTtcbiAgICAgICAgaWYgKCFyZWNlaXZlcklkICYmICFjb250cmFjdElkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIHJlY2VpdmVyIGZvdW5kIHRvIHNlbmQgdGhlIHRyYW5zYWN0aW9uIHRvJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgeyBjYlVybCB9ID0gKDAsIHV0aWxzXzEuZ2V0Q2FsbGJhY2tVcmwpKGNhbGxiYWNrVXJsICE9PSBudWxsICYmIGNhbGxiYWNrVXJsICE9PSB2b2lkIDAgPyBjYWxsYmFja1VybCA6ICcnKTtcbiAgICAgICAgY29uc3QgY2FsbGJhY2sgPSBjYlVybCB8fCBzdWNjZXNzVXJsO1xuICAgICAgICBpZiAoIWNvbnRyYWN0SWQpIHtcbiAgICAgICAgICAgIGNvbnN0IG5ld1VybCA9IG5ldyBVUkwoYCR7bWV0YWRhdGEud2FsbGV0VXJsfS9zaWduLXRyYW5zYWN0aW9uYCk7XG4gICAgICAgICAgICBjb25zdCBzdHJpbmdpZmllZFBhcmFtID0gSlNPTi5zdHJpbmdpZnkoW3sgcmVjZWl2ZXJJZCwgc2lnbmVySWQsIGFjdGlvbnMgfV0pO1xuICAgICAgICAgICAgY29uc3QgdXJsUGFyYW0gPSBlbmNvZGVVUklDb21wb25lbnQoc3RyaW5naWZpZWRQYXJhbSk7XG4gICAgICAgICAgICBuZXdVcmwuc2VhcmNoUGFyYW1zLnNldCgndHJhbnNhY3Rpb25zX2RhdGEnLCB1cmxQYXJhbSk7XG4gICAgICAgICAgICBuZXdVcmwuc2VhcmNoUGFyYW1zLnNldCgnY2FsbGJhY2tfdXJsJywgY2FsbGJhY2spO1xuICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmFzc2lnbihuZXdVcmwudG9TdHJpbmcoKSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYWNjb3VudCA9IHN0YXRlLndhbGxldC5hY2NvdW50KCk7XG4gICAgICAgIHJldHVybiBhY2NvdW50LnNpZ25BbmRTZW5kVHJhbnNhY3Rpb24oe1xuICAgICAgICAgICAgcmVjZWl2ZXJJZDogcmVjZWl2ZXJJZCB8fCBjb250cmFjdElkLFxuICAgICAgICAgICAgYWN0aW9uczogYWN0aW9ucy5tYXAoKGFjdGlvbikgPT4gKDAsIHdhbGxldF91dGlsc18xLmNyZWF0ZUFjdGlvbikoYWN0aW9uKSksXG4gICAgICAgICAgICB3YWxsZXRDYWxsYmFja1VybDogY2FsbGJhY2ssXG4gICAgICAgIH0pO1xuICAgIH0pO1xuICAgIGNvbnN0IHZlcmlmeU93bmVyID0gKCkgPT4gX19hd2FpdGVyKHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgVGhlIHZlcmlmeU93bmVyIG1ldGhvZCBpcyBub3Qgc3VwcG9ydGVkIGJ5ICR7bWV0YWRhdGEubmFtZX1gKTtcbiAgICB9KTtcbiAgICBjb25zdCBzaWduTWVzc2FnZSA9ICh7IG1lc3NhZ2UsIG5vbmNlLCByZWNpcGllbnQsIGNhbGxiYWNrVXJsIH0pID0+IF9fYXdhaXRlcih2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICBjb25zdCB7IGNiVXJsIH0gPSAoMCwgdXRpbHNfMS5nZXRDYWxsYmFja1VybCkoY2FsbGJhY2tVcmwgIT09IG51bGwgJiYgY2FsbGJhY2tVcmwgIT09IHZvaWQgMCA/IGNhbGxiYWNrVXJsIDogJycpO1xuICAgICAgICBjb25zdCBuZXdVcmwgPSBuZXcgVVJMKGAke21ldGFkYXRhLndhbGxldFVybH0vc2lnbi1tZXNzYWdlYCk7XG4gICAgICAgIG5ld1VybC5zZWFyY2hQYXJhbXMuc2V0KCdtZXNzYWdlJywgbWVzc2FnZSk7XG4gICAgICAgIG5ld1VybC5zZWFyY2hQYXJhbXMuc2V0KCdub25jZScsIEJ1ZmZlci5mcm9tKG5vbmNlKS50b1N0cmluZygnYmFzZTY0JykpO1xuICAgICAgICBuZXdVcmwuc2VhcmNoUGFyYW1zLnNldCgncmVjaXBpZW50JywgcmVjaXBpZW50KTtcbiAgICAgICAgbmV3VXJsLnNlYXJjaFBhcmFtcy5zZXQoJ2NhbGxiYWNrVXJsJywgY2JVcmwpO1xuICAgICAgICB3aW5kb3cubG9jYXRpb24uYXNzaWduKG5ld1VybC50b1N0cmluZygpKTtcbiAgICB9KTtcbiAgICBjb25zdCB2ZXJpZnlNZXNzYWdlID0gKHsgYWNjb3VudElkLCBwdWJsaWNLZXksIHNpZ25hdHVyZSwgbWVzc2FnZSwgbm9uY2UsIHJlY2lwaWVudCwgY2FsbGJhY2tVcmwgfSkgPT4gX19hd2FpdGVyKHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgIGNvbnN0IG5ld1VybCA9IG5ldyBVUkwoYCR7bWV0YWRhdGEud2FsbGV0VXJsfS9hcGkvdmVyaWZ5LW1lc3NhZ2VgKTtcbiAgICAgICAgbmV3VXJsLnNlYXJjaFBhcmFtcy5zZXQoJ21lc3NhZ2UnLCBtZXNzYWdlKTtcbiAgICAgICAgbmV3VXJsLnNlYXJjaFBhcmFtcy5zZXQoJ2FjY291bnRJZCcsIGFjY291bnRJZCk7XG4gICAgICAgIG5ld1VybC5zZWFyY2hQYXJhbXMuc2V0KCdwdWJsaWNLZXknLCBwdWJsaWNLZXkpO1xuICAgICAgICBuZXdVcmwuc2VhcmNoUGFyYW1zLnNldCgnc2lnbmF0dXJlJywgc2lnbmF0dXJlKTtcbiAgICAgICAgbmV3VXJsLnNlYXJjaFBhcmFtcy5zZXQoJ25vbmNlJywgQnVmZmVyLmZyb20obm9uY2UpLnRvU3RyaW5nKCdiYXNlNjQnKSk7XG4gICAgICAgIG5ld1VybC5zZWFyY2hQYXJhbXMuc2V0KCdyZWNpcGllbnQnLCByZWNpcGllbnQpO1xuICAgICAgICBuZXdVcmwuc2VhcmNoUGFyYW1zLnNldCgnY2FsbGJhY2tVcmwnLCBjYWxsYmFja1VybCk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIGZldGNoKG5ld1VybC50b1N0cmluZygpKTtcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSB5aWVsZCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgICAgICBjb25zdCB7IGlzVmFsaWQgfSA9IGRhdGE7XG4gICAgICAgICAgICByZXR1cm4gaXNWYWxpZDtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgY29uc3QgZ2V0QXZhaWxhYmxlQmFsYW5jZSA9ICgpID0+IF9fYXdhaXRlcih2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAvLyBjb25zdCBhY2NvdW50SWQgPSBzdGF0ZS53YWxsZXQuZ2V0QWNjb3VudElkKCk7XG4gICAgICAgIC8vIHJldHVybiBhd2FpdCBnZXRCYWxhbmNlKGFjY291bnRJZCk7XG4gICAgICAgIHRocm93IChgVGhlIGdldEF2YWlsYWJsZUJhbGFuY2UgbWV0aG9kIGlzIG5vdCBzdXBwb3J0ZWQgYnkgJHttZXRhZGF0YS5uYW1lfWApO1xuICAgIH0pO1xuICAgIGNvbnN0IGdldEFjY291bnRzID0gKCkgPT4gX19hd2FpdGVyKHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgIHZhciBfYjtcbiAgICAgICAgY29uc3QgYWNjb3VudElkID0gc3RhdGUud2FsbGV0LmdldEFjY291bnRJZCgpO1xuICAgICAgICBjb25zdCBhY2NvdW50ID0gc3RhdGUud2FsbGV0LmFjY291bnQoKTtcbiAgICAgICAgaWYgKCFhY2NvdW50SWQgfHwgIWFjY291bnQpIHtcbiAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjdXJyZW50QWNjb3VudCA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnbWludGJhc2Utd2FsbGV0OmFjY291bnQtY3JlYXRpb24tZGF0YScpO1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGFjY291bnRJZCxcbiAgICAgICAgICAgICAgICBwdWJsaWNLZXk6IChfYiA9IEpTT04ucGFyc2UoY3VycmVudEFjY291bnQpKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuZGV2aWNlUHVibGljS2V5LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgXTtcbiAgICB9KTtcbiAgICBjb25zdCBzd2l0Y2hBY2NvdW50ID0gKGlkKSA9PiBfX2F3YWl0ZXIodm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgLy9UT0RPIGZpeFxuICAgICAgICBzZXRBY3RpdmVBY2NvdW50SWQoaWQpO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9KTtcbiAgICBjb25zdCBzZXRBY3RpdmVBY2NvdW50SWQgPSAoYWNjb3VudElkKSA9PiB7XG4gICAgICAgIGFjdGl2ZUFjY291bnRJZCA9IGFjY291bnRJZDtcbiAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKCdtaW50YmFzZS13YWxsZXQ6YWN0aXZlQWNjb3VudElkJywgYWNjb3VudElkKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcbiAgICAvLyBjb25zdCB0cmFuc2Zvcm1UcmFuc2FjdGlvbnMgPSBhc3luYyAoXG4gICAgLy8gICB0cmFuc2FjdGlvbnM6IEFycmF5PE9wdGlvbmFsPFRyYW5zYWN0aW9uLCAnc2lnbmVySWQnPj4sXG4gICAgLy8gKTogUHJvbWlzZTxBcnJheTxuZWFyQVBJLnRyYW5zYWN0aW9ucy5UcmFuc2FjdGlvbj4+ID0+IHtcbiAgICAvLyAgIGNvbnN0IGFjY291bnQgPSBzdGF0ZS53YWxsZXQuYWNjb3VudCgpO1xuICAgIC8vICAgY29uc3QgeyBuZXR3b3JrSWQsIHNpZ25lciwgcHJvdmlkZXIgfSA9IGFjY291bnQuY29ubmVjdGlvbjtcbiAgICAvLyAgIGNvbnN0IGxvY2FsS2V5ID0gYXdhaXQgc2lnbmVyLmdldFB1YmxpY0tleShhY2NvdW50LmFjY291bnRJZCwgbmV0d29ya0lkKTtcbiAgICAvLyAgIHJldHVybiBQcm9taXNlLmFsbChcbiAgICAvLyAgICAgdHJhbnNhY3Rpb25zLm1hcChhc3luYyAodHJhbnNhY3Rpb24sIGluZGV4KSA9PiB7XG4gICAgLy8gICAgICAgY29uc3QgYWN0aW9ucyA9IHRyYW5zYWN0aW9uLmFjdGlvbnMubWFwKChhY3Rpb24pID0+XG4gICAgLy8gICAgICAgICBjcmVhdGVBY3Rpb24oYWN0aW9uKSxcbiAgICAvLyAgICAgICApO1xuICAgIC8vICAgICAgIGNvbnN0IGFjY2Vzc0tleSA9IGF3YWl0IGFjY291bnQuYWNjZXNzS2V5Rm9yVHJhbnNhY3Rpb24oXG4gICAgLy8gICAgICAgICB0cmFuc2FjdGlvbi5yZWNlaXZlcklkLFxuICAgIC8vICAgICAgICAgYWN0aW9ucyBhcyBhbnksXG4gICAgLy8gICAgICAgICBsb2NhbEtleSxcbiAgICAvLyAgICAgICApO1xuICAgIC8vICAgICAgIGlmICghYWNjZXNzS2V5KSB7XG4gICAgLy8gICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgLy8gICAgICAgICAgIGBGYWlsZWQgdG8gZmluZCBtYXRjaGluZyBrZXkgZm9yIHRyYW5zYWN0aW9uIHNlbnQgdG8gJHt0cmFuc2FjdGlvbi5yZWNlaXZlcklkfWAsXG4gICAgLy8gICAgICAgICApO1xuICAgIC8vICAgICAgIH1cbiAgICAvLyAgICAgICBjb25zdCBibG9jayA9IGF3YWl0IHByb3ZpZGVyLmJsb2NrKHsgZmluYWxpdHk6ICdmaW5hbCcgfSk7XG4gICAgLy8gICAgICAgcmV0dXJuIG5lYXJBUEkudHJhbnNhY3Rpb25zLmNyZWF0ZVRyYW5zYWN0aW9uKFxuICAgIC8vICAgICAgICAgYWNjb3VudC5hY2NvdW50SWQsXG4gICAgLy8gICAgICAgICBuZWFyQVBJLnV0aWxzLlB1YmxpY0tleS5mcm9tKGFjY2Vzc0tleS5wdWJsaWNfa2V5KSxcbiAgICAvLyAgICAgICAgIHRyYW5zYWN0aW9uLnJlY2VpdmVySWQsXG4gICAgLy8gICAgICAgICBhY2Nlc3NLZXkuYWNjZXNzX2tleS5ub25jZSArIGluZGV4ICsgMSxcbiAgICAvLyAgICAgICAgIGFjdGlvbnMgYXMgYW55LFxuICAgIC8vICAgICAgICAgbmVhckFQSS51dGlscy5zZXJpYWxpemUuYmFzZV9kZWNvZGUoYmxvY2suaGVhZGVyLmhhc2gpLFxuICAgIC8vICAgICAgICk7XG4gICAgLy8gICAgIH0pLFxuICAgIC8vICAgKTtcbiAgICAvLyB9O1xuICAgIHJldHVybiB7XG4gICAgICAgIGdldEFjY291bnRJZCxcbiAgICAgICAgaXNTaWduZWRJbixcbiAgICAgICAgc2lnbkluLFxuICAgICAgICBzaWduT3V0LFxuICAgICAgICBzaWduQW5kU2VuZFRyYW5zYWN0aW9uLFxuICAgICAgICB2ZXJpZnlPd25lcixcbiAgICAgICAgc2lnbk1lc3NhZ2UsXG4gICAgICAgIGdldEF2YWlsYWJsZUJhbGFuY2UsXG4gICAgICAgIGdldEFjY291bnRzLFxuICAgICAgICBzd2l0Y2hBY2NvdW50LFxuICAgICAgICBzaWduQW5kU2VuZFRyYW5zYWN0aW9ucyxcbiAgICAgICAgdmVyaWZ5TWVzc2FnZVxuICAgIH07XG59KTtcbmV4cG9ydHMuTWludGJhc2VXYWxsZXQgPSBNaW50YmFzZVdhbGxldDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1pbnRiYXNlLXdhbGxldC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@mintbase-js/wallet/lib/mintbase-wallet.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@mintbase-js/wallet/lib/setup.js":
/*!*******************************************************!*\
  !*** ./node_modules/@mintbase-js/wallet/lib/setup.js ***!
  \*******************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.setupMintbaseWallet = void 0;\nconst mintbase_wallet_1 = __webpack_require__(/*! ./mintbase-wallet */ \"(ssr)/./node_modules/@mintbase-js/wallet/lib/mintbase-wallet.js\");\nconst utils_1 = __webpack_require__(/*! ./utils */ \"(ssr)/./node_modules/@mintbase-js/wallet/lib/utils.js\");\nconst icon = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAnySURBVHgB7Z0HjBVFHMa/B/YK9u6BvUSwd8EeGyrWxMKJRk3sRBNb4NDYGyQaje3EXqJCrIkN7N2zS2gHhCJVaujnfDe37szcvvd273Zv/27mlyz3Zt6+t7z9dqd+/9kSImhqauqi/vRTW2+19VRbDTxp0KC2RrUNL5VKw6J2KLkZSozT1J96tXWBJ0smqG2wK0wnM6HEeEj9eRNejI6gm9rq1TkfZGb+d4e0vFEHTx48pO6UAXzRLIgSoxa6mPLkQ5Pa+ipRhgeCsDyrgSdP5qqte+eWu6MWnrxZS21/s1I/FR4JsLTqRUFq4JFCj5IqsprgkULTaigqixYB77wDjBgBfPttmH/QQUCfPsApp6hSey1Io3h3yMyZwMMPA2+8ASxZUn6/jTYCbrgBOPNMCKKpWIJMnw6cey4wZUr8z5x0EvDgg2rMohME0CTif5EaF14YLcaaawJ77BH9GRZrd98NKRRHkKFD1XDdBDvvqKOA114DfvtNja8OB8aMAZ54AthlF3u/Z54BfvoJEihGkcUK/MADgaVLw7zbb9fFVxT8yYMHAy+8EObtvz/w4ovImYIUWR98YItxzDHlxSAl1Qe76SZgu+3CvO+/1w2CnCmGIN99Z6cvuqj6Z1ivnH++nffll8ibYggycaKd3nVXxGLnncPXLMaStM4yohiCLFtmpzfYALHYeGM7PWcO8qYYgmy6qZ0ePRqx+PNPO71yJfKmGIK4zdiXX67+GRZRL71k5wnoHBZDkFOdGQQ2Z6v1K9jEdfdZtQp5UwxBtt9eN3UDePVfcgnw0Uet9+V7Tz4J3HEHJFKc0d6BA3WzdfFinZ4/H7j8cuCww3SnkS2qX34BRo4Efv89+js6d0beFEeQLbcEHn9c90GWLw/zP/9cb3HwlXrK8E54+mmgS0xbWc+edtpX6hnACaj33tO98Jqa8vtQuCFD7HwBw3rFnDHcZBNgUIshcPZsYNy48GRvsw2w9db69dSp9udKJeRNcadwA9gbd3vkAW4z1zd7PS5eEGF4QYThBRGGF0QYXhBheEGE4QURhhdEGF4QYcg2ytEA19AA/Pqrnt1buBCpQnMEvz9g8831ZJcLjdn77gv06AHsvTcyRKjZmmNKjz2mXezm3IYENtwQqKsDTj4ZGSBQkPHjgQEDys/qSeHoo7VJu0uqIf3CBKEvij807aIpK3bcEXjrLTVmntqguTBB+vcHPvvMzjv9dOC447QZesYMbRulW911utO0cPbZSASdir17R7/H2cczzgD2209HWn31FfD228Ann9j7XXYZcP31SAlBgrzyCnDrrWF6q620O2SnnaL3f+opO65js82Ajz/Wnt24RAnCSSqGNpxwQvRnPv0UuPhie3+GPLDCbz+C3O+86k14UsqJQXhSTjwxTPPuee45JCLqWrzmmvJikCOOCGcjg+8YNgxpIUeQsWPD18cf39qAEMWNN9rpDz9EIlxTQ9euwBVXVP/ceefpOzjgjz+QFjIEcVtUcd3rtP6ss06Y5l2SBHfK1rWkVsIMkWPLMCVkCOL+oG23RWx22CF8TXNcEtz6xgzgqQTrjagOZArIEMQNJ2hsRGzM1lYSIQndKeuvn/y4rDfMfVN0q8gcy3LDBMoxaZLdZ2FTNSl77RW+TtIZNfdNUtRVQaYgo0bpmL9KsPy/8047jwa4JPDKNusCjp098kjlz/DueP55YNq0MG/33ZEWMgVZsUI3a999N7ppumABcO21trudveZynbxKnHOOnaab8f77o4/LvEcfBW67LcyjqP36IS1kdAxff711EzaA65Lssw+w227A2msD33yjY83dFhU7Z3GaylEwVmTQIDtvzz113AmbtyzWfvhBx52YAaYU4+abgdpapISQnnolQeJwwQU6HKGt8BTQNf/FF/E/QzG4MAFHpdNDaJw6h7jjtFy4z1VXtU+M4Hs41N+3b/zjcvwqXTGakSkIBwpZubKY4o83T1KQPvRQPdh39dVIhfXWA+65R4+RcVys3HH5f+L6KJdeiiyQabbmDz/2WL1xhR+uUcKmMFtWrE8OOACZcfjhuuhi7Dub1ezn8LjsgHbvHjrnM0KmIOaQxhZb6I0nqiNhT5xbBx/XmxyE4QURhhdEGF4QYXhBhOEFEYYXRBheEGF4QYThBRFGxwydBCP8nGXj+JCLa3KgJejrr5EqtHvSpRLYdwSs2hBFtvMh/Gqu7ka3388/i1iGtdlpQnsovV9cSlaWMBlOUHFmjfMUpgFOGt266WH+Sg7JjiUjQejJ5dxCFLwi4xyyLVdupe8td1wuoMkp3HIrB3UsGQjCaCfOvJnwZPB5HZzLoBeK8+K0fZrODRP6a+l2TwLnTVwXOo/L4XPag2iCYLFJR4tr9+Fcx/vvQwApC8LndfDEmyYyLq1HJ4dbLNBPxfXXuUi+C4sRhiAkgSLSpRLAQJq77rLXYgzgHXzvvfYdw2eJZDQLmICU59R51ZticCqUYQZRZTSnTO+7r/WKos3/rYTXCB0ophg0UdfXR4tBuECm6+mi10oA6QrCIsGE8Rs88ZVgvB6DKk2S1h9cjN+EVzptPJVgMI45G8giT8AjK9IV5Mcfw9f0zMaZ/qRgjLloD1xt1KRSfEcARefTdQJ4V1ZzS3YA6Qpinpgk9spyT7+Jy6xZdjrusekgMSnc4ypMJ3mShe3nzrXTNDUkYfXVK39f3OOusQbyJl1BTCsnrTtx4SOJTExHehzcuI647nkz8olFWNz4kAxJVxA38JFLsVaDwjHCNaAtTvIjj7TT9TEefM0murtoP1fBzpl0BWHHz+SBB4C//iq/P08K2//mag1J7w5y8MF2McfO36uvlt+fFTj7KOZAJ+9uM24wJ9IV5JBDbFchI6No92dfhCfB3Nhb5vIUZq+Znl7GfbeFK68MX/P7b7lFhw3w2VTmcdkAYDy8+QAwFlftMXunSPpDJ6zMGezvLlLM4ExegeuuC0ye3LrS50mh3T/pkIkJn2NoFn8BrBu4di+HatjfcI971llSnpaQ0eAiV5LmUEbcJ91wmINBMr16oV1wOIaicDwtDhSDS3kwCEcGGYUjcLCOznRGQVXqdfM9VqQc9mivGISdTAbxV5vn4Hu8U7lyhBwxmsk+YIdNWq5fwnWp2JOfN09PELFFxvrGbSGlBe9SLsrPJ0VzfI1FFdfD4jA7V4DgIGi1YZ2Op2APJ/7/U7CHExcACtIIjxQaKEgDPFKYSEFGwSMB1uVvslLnooE0RnWFJ08mlEql7p3UP/+oRH948oR3Rx1fNLeylCh0GgyBJw8oxmClwbNMWN1ZVXzVqT8D3XxPZlCMoUqM64KMVideiVILLUoNvDBZQSE4XdlfiTHCfKPsCW8Rpg+0MG1c1cXj0AjdzRiptmdb6m+LfwEGoUIy8K/6BwAAAABJRU5ErkJggg==';\nfunction setupMintbaseWallet({ walletUrl = '', deprecated = false, successUrl = '', failureUrl = '', callbackUrl = '', contractId = '', } = {}) {\n    return (moduleOptions) => __awaiter(this, void 0, void 0, function* () {\n        const wallet = {\n            id: 'mintbase-wallet',\n            type: 'browser',\n            metadata: {\n                name: 'Mintbase Wallet',\n                description: 'NEAR wallet to store, buy, send and stake assets for DeFi.',\n                iconUrl: icon,\n                deprecated,\n                available: true,\n                successUrl,\n                failureUrl,\n                walletUrl: (0, utils_1.resolveWalletUrl)(moduleOptions.options.network.networkId, walletUrl),\n            },\n            init: (options) => {\n                return (0, mintbase_wallet_1.MintbaseWallet)(Object.assign({ callback: callbackUrl, networkId: moduleOptions.options.network.networkId, successUrl, failureUrl, contractId }, options));\n            },\n        };\n        return wallet;\n    });\n}\nexports.setupMintbaseWallet = setupMintbaseWallet;\n//# sourceMappingURL=setup.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG1pbnRiYXNlLWpzL3dhbGxldC9saWIvc2V0dXAuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBLDRCQUE0QiwrREFBK0QsaUJBQWlCO0FBQzVHO0FBQ0Esb0NBQW9DLE1BQU0sK0JBQStCLFlBQVk7QUFDckYsbUNBQW1DLE1BQU0sbUNBQW1DLFlBQVk7QUFDeEYsZ0NBQWdDO0FBQ2hDO0FBQ0EsS0FBSztBQUNMO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELDJCQUEyQjtBQUMzQiwwQkFBMEIsbUJBQU8sQ0FBQywwRkFBbUI7QUFDckQsZ0JBQWdCLG1CQUFPLENBQUMsc0VBQVM7QUFDakMsNkJBQTZCO0FBQzdCLCtCQUErQiwyR0FBMkcsSUFBSTtBQUM5STtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLDZFQUE2RSwrR0FBK0c7QUFDNUwsYUFBYTtBQUNiO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSwyQkFBMkI7QUFDM0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9oZWxsby1uZWFyLy4vbm9kZV9tb2R1bGVzL0BtaW50YmFzZS1qcy93YWxsZXQvbGliL3NldHVwLmpzPzI2MjciXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19hd2FpdGVyID0gKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICAgIH0pO1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuc2V0dXBNaW50YmFzZVdhbGxldCA9IHZvaWQgMDtcbmNvbnN0IG1pbnRiYXNlX3dhbGxldF8xID0gcmVxdWlyZShcIi4vbWludGJhc2Utd2FsbGV0XCIpO1xuY29uc3QgdXRpbHNfMSA9IHJlcXVpcmUoXCIuL3V0aWxzXCIpO1xuY29uc3QgaWNvbiA9ICdkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUdRQUFBQmtDQVlBQUFCdzRwVlVBQUFBQ1hCSVdYTUFBQXNUQUFBTEV3RUFtcHdZQUFBQUFYTlNSMElBcnM0YzZRQUFBQVJuUVUxQkFBQ3hqd3Y4WVFVQUFBbnlTVVJCVkhnQjdaMEhqQlZGSE1hL0IvWUs5dTZCdlVTd2Q4RWVHeXJXeE1LSlJrM3NSQk5iNE5EWUd5UWFqZTNFWHFKQ3JJa043TjJ6UzJnSGhDSlZhdWpuZkRlMzdzemN2dmQyNzNadi8yN21seXozWnQ2K3Q3ejlkcWQrLzlrU0ltaHFhdXFpL3ZSVFcyKzE5VlJiRFR4cDBLQzJSclVOTDVWS3c2SjJLTGtaU296VDFKOTZ0WFdCSjBzbXFHMndLMHduTTZIRWVFajllUk5lakk2Z205cnExVGtmWkdiK2Q0ZTB2RkVIVHg0OHBPNlVBWHpSTElnU294YTZtUExrUTVQYStpcFJoZ2VDc0R5cmdTZFA1cXF0ZStlV3U2TVducnhaUzIxL3MxSS9GUjRKc0xUcVJVRnE0SkZDajVJcXNwcmdrVUxUYWlncWl4WUI3N3dEakJnQmZQdHRtSC9RUVVDZlBzQXBwNmhTZXkxSW8zaDN5TXlad01NUEEyKzhBU3haVW42L2pUWUNicmdCT1BOTUNLS3BXSUpNbnc2Y2V5NHdaVXI4ejV4MEV2RGdnMnJNb2hNRTBDVGlmNUVhRjE0WUxjYWFhd0o3N0JIOUdSWnJkOThOS1JSSGtLRkQxWERkQkR2dnFLT0ExMTREZnZ0TmphOE9COGFNQVo1NEF0aGxGM3UvWjU0QmZ2b0pFaWhHa2NVSy9NQURnYVZMdzd6YmI5ZkZWeFQ4eVlNSEF5KzhFT2J0dnovdzRvdkltWUlVV1I5OFlJdHh6REhseFNBbDFRZTc2U1pndSszQ3ZPKy8xdzJDbkNtR0lOOTlaNmN2dXFqNloxaXZuSCsrbmZmbGw4aWJZZ2d5Y2FLZDNuVlh4R0xubmNQWExNYVN0TTR5b2hpQ0xGdG1wemZZQUxIWWVHTTdQV2NPOHFZWWdteTZxWjBlUFJxeCtQTlBPNzF5SmZLbUdJSzR6ZGlYWDY3K0dSWlJMNzFrNXdub0hCWkRrRk9kR1FRMlo2djFLOWpFZGZkWnRRcDVVd3hCdHQ5ZU4zVURlUFZmY2dudzBVZXQ5K1Y3VHo0SjNIRUhKRktjMGQ2QkEzV3pkZkZpblo0L0g3ajhjdUN3dzNTbmtTMnFYMzRCUm80RWZ2ODkranM2ZDBiZUZFZVFMYmNFSG45YzkwR1dMdy96UC85Y2IzSHdsWHJLOEU1NCttbWdTMHhiV2MrZWR0cFg2aG5BQ2FqMzN0Tzk4SnFhOHZ0UXVDRkQ3SHdCdzNyRm5ESGNaQk5nVUlzaGNQWnNZTnk0OEdSdnN3Mnc5ZGI2OWRTcDl1ZEtKZVJOY2Fkd0E5Z2JkM3ZrQVc0ejF6ZDdQUzVlRUdGNFFZVGhCUkdHRjBRWVhoQmhlRUdFNFFVUmhoZEVHRjRRWWNnMnl0RUExOUFBL1Bxcm50MWJ1QkNwUW5NRXZ6OWc4ODMxWkpjTGpkbjc3Z3YwNkFIc3ZUY3lSS2pabW1OS2p6Mm1YZXptM0lZRU50d1FxS3NEVGo0WkdTQlFrUEhqZ1FFRHlzL3FTZUhvbzdWSnUwdXFJZjNDQktFdmlqODA3YUlwSzNiY0VYanJMVFZtbnRxZ3VUQkIrdmNIUHZ2TXpqdjlkT0M0NDdRWmVzWU1iUnVsVzkxMXV0TzBjUGJaU0FTZGlyMTdSNy9IMmNjenpnRDIyMDlIV24zMUZmRDIyOEFubjlqN1hYWVpjUDMxU0FsQmdyenlDbkRycldGNnE2MjBPMlNubmFMM2Yrb3BPNjVqczgyQWp6L1dudDI0UkFuQ1NTcUdOcHh3UXZSblB2MFV1UGhpZTMrR1BMRENieitDM08rODZrMTRVc3FKUVhoU1Rqd3hUUFB1ZWU0NUpDTHFXcnptbXZKaWtDT09DR2NqZys4WU5neHBJVWVRc1dQRDE4Y2YzOXFBRU1XTk45cnBEejlFSWx4VFE5ZXV3QlZYVlAvY2VlZnBPempnanorUUZqSUVjVnRVY2QzcnRQNnNzMDZZNWwyU0JIZksxcldrVnNJTWtXUExNQ1ZrQ09MK29HMjNSV3gyMkNGOFRYTmNFdHo2eGd6Z3FRVHJqYWdPWkFySUVNUU5KMmhzUkd6TTFsWVNJUW5kS2V1dm4veTRyRGZNZlZOMHE4Z2N5M0xEQk1veGFaTGRaMkZUTlNsNzdSVytUdElaTmZkTlV0UlZRYVlnbzBicG1MOUtzUHkvODA0N2p3YTRKUERLTnVzQ2pwMDk4a2psei9EdWVQNTVZTnEwTUcvMzNaRVdNZ1Zac1VJM2E5OTlON3BwdW1BQmNPMjF0cnVkdmVaeW5ieEtuSE9PbmFhYjhmNzdvNC9MdkVjZkJXNjdMY3lqcVAzNklTMWtkQXhmZjcxMUV6YUE2NUxzc3crdzIyN0EybXNEMzN5alk4M2RGaFU3WjNHYXlsRXdWbVRRSUR0dnp6MTEzQW1idHl6V2Z2aEJ4NTJZQWFZVTQrYWJnZHBhcElTUW5ub2xRZUp3d1FVNkhLR3Q4QlRRTmYvRkYvRS9Rekc0TUFGSHBkTkRhSnc2aDdqanRGeTR6MVZYdFUrTTRIczQxTiszYi96amN2d3FYVEdha1NrSUJ3cFp1YktZNG84M1QxS1FQdlJRUGRoMzlkVkloZlhXQSs2NVI0K1JjVnlzM0hINWYrTDZLSmRlaWl5UWFiYm1Eei8yV0wxeGhSK3VVY0ttTUZ0V3JFOE9PQUNaY2ZqaHV1aGk3RHViMWV6bjhManNnSGJ2SGpybk0wS21JT2FReGhaYjZJMG5xaU5oVDV4YkJ4L1hteHlFNFFVUmhoZEVHRjRRWVhoQmhPRUZFWVlYUkJoZUVHRjRRWVRoQlJGR3h3eWRCQ1A4bkdYaitKQ0xhM0tnSmVqcnI1RXF0SHZTcFJMWWR3U3MyaEJGdHZNaC9HcXU3a2EzMzg4L2kxaUd0ZGxwUW5zb3ZWOWNTbGFXTUJsT1VIRm1qZk1VcGdGT0d0MjY2V0grU2c3SmppVWpRZWpKNWR4Q0ZMd2k0eHl5TFZkdXBlOHRkMXd1b01rcDNISXJCM1VzR1FqQ2FDZk92Sm53WlBCNUhaekxvQmVLOCtLMGZack9EUlA2YStsMlR3TG5UVndYT28vTDRYUGFnMmlDWUxGSlI0dHI5K0ZjeC92dlF3QXBDOExuZGZERW15WXlMcTFISjRkYkxOQlB4ZlhYdVVpK0M0c1JoaUFrZ1NMU3BSTEFRSnE3N3JMWFlnemdIWHp2dmZZZHcyZUpaRFFMbUlDVTU5UjUxWnRpY0NxVVlRWlJaVFNuVE8rN3IvV0tvczMvcllUWENCMG9waGcwVWRmWFI0dEJ1RUNtNittaTEwb0E2UXJDSXNHRThSczg4WlZndkI2REtrMlMxaDljak4rRVZ6cHRQSlZnTUk0NUc4Z2lUOEFqSzlJVjVNY2Z3OWYwek1hWi9xUmdqTGxvRDF4dDFLUlNmRWNBUmVmVGRRSjRWMVp6UzNZQTZRcGlucGdrOXNweVQ3K0p5NnhaZGpydXNla2dNU25jNHlwTUozbVNoZTNuenJYVE5EVWtZZlhWSzM5ZjNPT3VzUWJ5SmwxQlRDc25yVHR4NFNPSlRFeEhlaHpjdUk2NDdua3o4b2xGV056NGtBeEpWeEEzOEpGTHNWYUR3akhDTmFBdFR2SWpqN1RUOVRFZWZNMG11cnRvUDFmQnpwbDBCV0hIeitTQkI0Qy8vaXEvUDA4SzIvL21hZzFKN3c1eThNRjJNY2ZPMzZ1dmx0K2ZGVGo3S09aQUorOXVNMjR3SjlJVjVKQkRiRmNoSTZObzkyZGZoQ2ZCM05oYjV2SVVacStabmw3R2ZiZUZLNjhNWC9QN2I3bEZodzN3MlZUbWNka0FZRHk4K1FBd0ZsZnRNWHVuU1BwREo2ek1HZXp2TGxMTTRFeGVnZXV1QzB5ZTNMclM1MG1oM1QvcGtJa0puMk5vRm44QnJCdTRkaStIYXRqZmNJOTcxbGxTbnBhUTBlQWlWNUxtVUViY0o5MXdtSU5CTXIxNm9WMXdPSWFpY0R3dERoU0RTM2t3Q0VjR0dZVWpjTENPem5SR1FWWHFkZk05VnFRYzltaXZHSVNkVEFieFY1dm40SHU4VTdseWhCd3htc2srWUlkTldxNWZ3bldwMkpPZk4wOVBFTEZGeHZyR2JTR2xCZTlTTHNyUEowVnpmSTFGRmRmRDRqQTdWNERnSUdpMVlaMk9wMkFQSi83L1U3Q0hFeGNBQ3RJSWp4UWFLRWdEUEZLWVNFRkd3U01CMXVWdnNsTG5vb0UwUm5XRkowOG1sRXFsN3AzVVAvK29SSDk0OG9SM1J4MWZOTGV5bENoMEdneUJKdzhveG1DbHdiTk1XTjFaVlh6VnFUOEQzWHhQWmxDTW9VcU02NEtNVmlkZWlWSUxMVW9OdkRCWlFTRTRYZGxmaVRIQ2ZLUHNDVzhScGcrME1HMWMxY1hqMEFqZHpSaXB0bWRiNm0rTGZ3RUdvVUl5OEsvNkJ3QUFBQUJKUlU1RXJrSmdnZz09JztcbmZ1bmN0aW9uIHNldHVwTWludGJhc2VXYWxsZXQoeyB3YWxsZXRVcmwgPSAnJywgZGVwcmVjYXRlZCA9IGZhbHNlLCBzdWNjZXNzVXJsID0gJycsIGZhaWx1cmVVcmwgPSAnJywgY2FsbGJhY2tVcmwgPSAnJywgY29udHJhY3RJZCA9ICcnLCB9ID0ge30pIHtcbiAgICByZXR1cm4gKG1vZHVsZU9wdGlvbnMpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgY29uc3Qgd2FsbGV0ID0ge1xuICAgICAgICAgICAgaWQ6ICdtaW50YmFzZS13YWxsZXQnLFxuICAgICAgICAgICAgdHlwZTogJ2Jyb3dzZXInLFxuICAgICAgICAgICAgbWV0YWRhdGE6IHtcbiAgICAgICAgICAgICAgICBuYW1lOiAnTWludGJhc2UgV2FsbGV0JyxcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogJ05FQVIgd2FsbGV0IHRvIHN0b3JlLCBidXksIHNlbmQgYW5kIHN0YWtlIGFzc2V0cyBmb3IgRGVGaS4nLFxuICAgICAgICAgICAgICAgIGljb25Vcmw6IGljb24sXG4gICAgICAgICAgICAgICAgZGVwcmVjYXRlZCxcbiAgICAgICAgICAgICAgICBhdmFpbGFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgc3VjY2Vzc1VybCxcbiAgICAgICAgICAgICAgICBmYWlsdXJlVXJsLFxuICAgICAgICAgICAgICAgIHdhbGxldFVybDogKDAsIHV0aWxzXzEucmVzb2x2ZVdhbGxldFVybCkobW9kdWxlT3B0aW9ucy5vcHRpb25zLm5ldHdvcmsubmV0d29ya0lkLCB3YWxsZXRVcmwpLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGluaXQ6IChvcHRpb25zKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICgwLCBtaW50YmFzZV93YWxsZXRfMS5NaW50YmFzZVdhbGxldCkoT2JqZWN0LmFzc2lnbih7IGNhbGxiYWNrOiBjYWxsYmFja1VybCwgbmV0d29ya0lkOiBtb2R1bGVPcHRpb25zLm9wdGlvbnMubmV0d29yay5uZXR3b3JrSWQsIHN1Y2Nlc3NVcmwsIGZhaWx1cmVVcmwsIGNvbnRyYWN0SWQgfSwgb3B0aW9ucykpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHdhbGxldDtcbiAgICB9KTtcbn1cbmV4cG9ydHMuc2V0dXBNaW50YmFzZVdhbGxldCA9IHNldHVwTWludGJhc2VXYWxsZXQ7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zZXR1cC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@mintbase-js/wallet/lib/setup.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@mintbase-js/wallet/lib/utils.js":
/*!*******************************************************!*\
  !*** ./node_modules/@mintbase-js/wallet/lib/utils.js ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\n/*\n    Mintbase Wallet Utils file\n*/\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.resolveWalletUrl = exports.resolveBitteWallet = exports.getCallbackUrlBitte = exports.getCallbackUrl = exports.checkCallbackUrlBitte = exports.checkCallbackUrl = void 0;\nconst checkCallbackUrlBitte = (callbackUrl) => {\n    function isValidURL(url) {\n        const urlPattern = /^(https?|ftp|http?):\\/\\/[^\\s/$.?#].[^\\s]*$/;\n        return urlPattern.test(url);\n    }\n    if (callbackUrl !== null && callbackUrl.length > 0) {\n        if (isValidURL(callbackUrl)) {\n            if (callbackUrl.startsWith('https://') ||\n                callbackUrl.startsWith('http://')) {\n                return callbackUrl.endsWith('/')\n                    ? callbackUrl.slice(0, -1)\n                    : callbackUrl;\n            }\n        }\n        else {\n            console.error('callbackUrl set with wrong format. please use an URL with http:// or https:// instead.Further help available on our telegram channel: https://t.me/mintdev');\n            return new URL(window.location.href).toString();\n        }\n    }\n    else {\n        const globalCallBackUrl = localStorage.getItem('bitte-wallet:callback_url');\n        if (isValidURL(globalCallBackUrl)) {\n            return globalCallBackUrl;\n        }\n        else {\n            console.warn('We recommend you to set the callbackUrl property on setupMintbaseWallet  \\n read more here:  \\n https://docs.mintbase.xyz/dev/mintbase-sdk-ref/wallet#setupmintbasewallet  \\n  \\n further help available on our telegram channel:  \\n https://t.me/mintdev');\n            return new URL(window.location.href).toString();\n        }\n    }\n    return new URL(window.location.href).toString();\n};\nexports.checkCallbackUrlBitte = checkCallbackUrlBitte;\nconst checkCallbackUrl = (callbackUrl) => {\n    function isValidURL(url) {\n        const urlPattern = /^(https?|ftp|http?):\\/\\/[^\\s/$.?#].[^\\s]*$/;\n        return urlPattern.test(url);\n    }\n    if (callbackUrl !== null && callbackUrl.length > 0) {\n        if (isValidURL(callbackUrl)) {\n            if (callbackUrl.startsWith('https://') ||\n                callbackUrl.startsWith('http://')) {\n                return callbackUrl.endsWith('/')\n                    ? callbackUrl.slice(0, -1)\n                    : callbackUrl;\n            }\n        }\n        else {\n            console.error('callbackUrl set with wrong format. please use an URL with http:// or https:// instead.Further help available on our telegram channel: https://t.me/mintdev');\n            return new URL(window.location.href).toString();\n        }\n    }\n    else {\n        const globalCallBackUrl = localStorage.getItem('mintbase-wallet:callback_url');\n        if (isValidURL(globalCallBackUrl)) {\n            return globalCallBackUrl;\n        }\n        else {\n            console.warn('We recommend you to set the callbackUrl property on setupMintbaseWallet  \\n read more here:  \\n https://docs.mintbase.xyz/dev/mintbase-sdk-ref/wallet#setupmintbasewallet  \\n  \\n further help available on our telegram channel:  \\n https://t.me/mintdev');\n            return new URL(window.location.href).toString();\n        }\n    }\n    return new URL(window.location.href).toString();\n};\nexports.checkCallbackUrl = checkCallbackUrl;\nconst getCallbackUrl = (callbackUrl) => {\n    var _a, _b, _c, _d, _e, _f;\n    if (typeof window !== undefined) {\n        let mbjsCallbackUrl = '';\n        if (((_b = (_a = window === null || window === void 0 ? void 0 : window['mbjs']) === null || _a === void 0 ? void 0 : _a.keys) === null || _b === void 0 ? void 0 : _b.callbackUrl) && ((_d = (_c = window === null || window === void 0 ? void 0 : window['mbjs']) === null || _c === void 0 ? void 0 : _c.keys) === null || _d === void 0 ? void 0 : _d.callbackUrl.length) > 0) {\n            mbjsCallbackUrl = (_f = (_e = window === null || window === void 0 ? void 0 : window['mbjs']) === null || _e === void 0 ? void 0 : _e.keys) === null || _f === void 0 ? void 0 : _f.callbackUrl;\n        }\n        const globalCBUrl = (localStorage === null || localStorage === void 0 ? void 0 : localStorage.getItem('mintbase-wallet:callback_url')) || mbjsCallbackUrl;\n        // it gets always the passed callBackUrl first, if not check for the one on the Wallet Setup or mbjs.keys.callbackUrl\n        const finalcbURL = callbackUrl !== null && callbackUrl !== void 0 ? callbackUrl : globalCBUrl;\n        const callBackUrlRes = checkCallbackUrl(finalcbURL);\n        // check if callBackUrl sent on the method is valid\n        // method callbackUrl will always have priority over global callbackUrl , user can set different callbackUrls according to the method..\n        return { cbUrl: callBackUrlRes };\n    }\n    return null;\n};\nexports.getCallbackUrl = getCallbackUrl;\nconst getCallbackUrlBitte = (callbackUrl) => {\n    var _a, _b, _c, _d, _e, _f;\n    if (typeof window !== undefined) {\n        let mbjsCallbackUrl = '';\n        if (((_b = (_a = window === null || window === void 0 ? void 0 : window['mbjs']) === null || _a === void 0 ? void 0 : _a.keys) === null || _b === void 0 ? void 0 : _b.callbackUrl) && ((_d = (_c = window === null || window === void 0 ? void 0 : window['mbjs']) === null || _c === void 0 ? void 0 : _c.keys) === null || _d === void 0 ? void 0 : _d.callbackUrl.length) > 0) {\n            mbjsCallbackUrl = (_f = (_e = window === null || window === void 0 ? void 0 : window['mbjs']) === null || _e === void 0 ? void 0 : _e.keys) === null || _f === void 0 ? void 0 : _f.callbackUrl;\n        }\n        const globalCBUrl = (localStorage === null || localStorage === void 0 ? void 0 : localStorage.getItem('bitte-wallet:callback_url')) || mbjsCallbackUrl;\n        // it gets always the passed callBackUrl first, if not check for the one on the Wallet Setup or mbjs.keys.callbackUrl\n        const finalcbURL = callbackUrl !== null && callbackUrl !== void 0 ? callbackUrl : globalCBUrl;\n        const callBackUrlRes = checkCallbackUrlBitte(finalcbURL);\n        // check if callBackUrl sent on the method is valid\n        // method callbackUrl will always have priority over global callbackUrl , user can set different callbackUrls according to the method..\n        return { cbUrl: callBackUrlRes };\n    }\n    return null;\n};\nexports.getCallbackUrlBitte = getCallbackUrlBitte;\nconst resolveWalletUrl = (network, walletUrl) => {\n    if (walletUrl) {\n        return walletUrl;\n    }\n    switch (network) {\n        case 'mainnet':\n            return 'https://wallet.mintbase.xyz';\n        case 'testnet':\n            return 'https://testnet.wallet.mintbase.xyz/';\n        default:\n            throw new Error('Invalid wallet url');\n    }\n};\nexports.resolveWalletUrl = resolveWalletUrl;\nconst resolveBitteWallet = (network, walletUrl) => {\n    if (walletUrl) {\n        return walletUrl;\n    }\n    switch (network) {\n        case 'mainnet':\n            return 'https://wallet.bitte.ai';\n        case 'testnet':\n            return 'https://testnet.wallet.bitte.ai/';\n        default:\n            throw new Error('Invalid wallet url');\n    }\n};\nexports.resolveBitteWallet = resolveBitteWallet;\n//# sourceMappingURL=utils.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQG1pbnRiYXNlLWpzL3dhbGxldC9saWIvdXRpbHMuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0Qsd0JBQXdCLEdBQUcsMEJBQTBCLEdBQUcsMkJBQTJCLEdBQUcsc0JBQXNCLEdBQUcsNkJBQTZCLEdBQUcsd0JBQXdCO0FBQ3ZLO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQjtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQSwyQkFBMkI7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0I7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEI7QUFDMUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9oZWxsby1uZWFyLy4vbm9kZV9tb2R1bGVzL0BtaW50YmFzZS1qcy93YWxsZXQvbGliL3V0aWxzLmpzPzJiODMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuICAgIE1pbnRiYXNlIFdhbGxldCBVdGlscyBmaWxlXG4qL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5yZXNvbHZlV2FsbGV0VXJsID0gZXhwb3J0cy5yZXNvbHZlQml0dGVXYWxsZXQgPSBleHBvcnRzLmdldENhbGxiYWNrVXJsQml0dGUgPSBleHBvcnRzLmdldENhbGxiYWNrVXJsID0gZXhwb3J0cy5jaGVja0NhbGxiYWNrVXJsQml0dGUgPSBleHBvcnRzLmNoZWNrQ2FsbGJhY2tVcmwgPSB2b2lkIDA7XG5jb25zdCBjaGVja0NhbGxiYWNrVXJsQml0dGUgPSAoY2FsbGJhY2tVcmwpID0+IHtcbiAgICBmdW5jdGlvbiBpc1ZhbGlkVVJMKHVybCkge1xuICAgICAgICBjb25zdCB1cmxQYXR0ZXJuID0gL14oaHR0cHM/fGZ0cHxodHRwPyk6XFwvXFwvW15cXHMvJC4/I10uW15cXHNdKiQvO1xuICAgICAgICByZXR1cm4gdXJsUGF0dGVybi50ZXN0KHVybCk7XG4gICAgfVxuICAgIGlmIChjYWxsYmFja1VybCAhPT0gbnVsbCAmJiBjYWxsYmFja1VybC5sZW5ndGggPiAwKSB7XG4gICAgICAgIGlmIChpc1ZhbGlkVVJMKGNhbGxiYWNrVXJsKSkge1xuICAgICAgICAgICAgaWYgKGNhbGxiYWNrVXJsLnN0YXJ0c1dpdGgoJ2h0dHBzOi8vJykgfHxcbiAgICAgICAgICAgICAgICBjYWxsYmFja1VybC5zdGFydHNXaXRoKCdodHRwOi8vJykpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY2FsbGJhY2tVcmwuZW5kc1dpdGgoJy8nKVxuICAgICAgICAgICAgICAgICAgICA/IGNhbGxiYWNrVXJsLnNsaWNlKDAsIC0xKVxuICAgICAgICAgICAgICAgICAgICA6IGNhbGxiYWNrVXJsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignY2FsbGJhY2tVcmwgc2V0IHdpdGggd3JvbmcgZm9ybWF0LiBwbGVhc2UgdXNlIGFuIFVSTCB3aXRoIGh0dHA6Ly8gb3IgaHR0cHM6Ly8gaW5zdGVhZC5GdXJ0aGVyIGhlbHAgYXZhaWxhYmxlIG9uIG91ciB0ZWxlZ3JhbSBjaGFubmVsOiBodHRwczovL3QubWUvbWludGRldicpO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBVUkwod2luZG93LmxvY2F0aW9uLmhyZWYpLnRvU3RyaW5nKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNvbnN0IGdsb2JhbENhbGxCYWNrVXJsID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2JpdHRlLXdhbGxldDpjYWxsYmFja191cmwnKTtcbiAgICAgICAgaWYgKGlzVmFsaWRVUkwoZ2xvYmFsQ2FsbEJhY2tVcmwpKSB7XG4gICAgICAgICAgICByZXR1cm4gZ2xvYmFsQ2FsbEJhY2tVcmw7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ1dlIHJlY29tbWVuZCB5b3UgdG8gc2V0IHRoZSBjYWxsYmFja1VybCBwcm9wZXJ0eSBvbiBzZXR1cE1pbnRiYXNlV2FsbGV0ICBcXG4gcmVhZCBtb3JlIGhlcmU6ICBcXG4gaHR0cHM6Ly9kb2NzLm1pbnRiYXNlLnh5ei9kZXYvbWludGJhc2Utc2RrLXJlZi93YWxsZXQjc2V0dXBtaW50YmFzZXdhbGxldCAgXFxuICBcXG4gZnVydGhlciBoZWxwIGF2YWlsYWJsZSBvbiBvdXIgdGVsZWdyYW0gY2hhbm5lbDogIFxcbiBodHRwczovL3QubWUvbWludGRldicpO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBVUkwod2luZG93LmxvY2F0aW9uLmhyZWYpLnRvU3RyaW5nKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG5ldyBVUkwod2luZG93LmxvY2F0aW9uLmhyZWYpLnRvU3RyaW5nKCk7XG59O1xuZXhwb3J0cy5jaGVja0NhbGxiYWNrVXJsQml0dGUgPSBjaGVja0NhbGxiYWNrVXJsQml0dGU7XG5jb25zdCBjaGVja0NhbGxiYWNrVXJsID0gKGNhbGxiYWNrVXJsKSA9PiB7XG4gICAgZnVuY3Rpb24gaXNWYWxpZFVSTCh1cmwpIHtcbiAgICAgICAgY29uc3QgdXJsUGF0dGVybiA9IC9eKGh0dHBzP3xmdHB8aHR0cD8pOlxcL1xcL1teXFxzLyQuPyNdLlteXFxzXSokLztcbiAgICAgICAgcmV0dXJuIHVybFBhdHRlcm4udGVzdCh1cmwpO1xuICAgIH1cbiAgICBpZiAoY2FsbGJhY2tVcmwgIT09IG51bGwgJiYgY2FsbGJhY2tVcmwubGVuZ3RoID4gMCkge1xuICAgICAgICBpZiAoaXNWYWxpZFVSTChjYWxsYmFja1VybCkpIHtcbiAgICAgICAgICAgIGlmIChjYWxsYmFja1VybC5zdGFydHNXaXRoKCdodHRwczovLycpIHx8XG4gICAgICAgICAgICAgICAgY2FsbGJhY2tVcmwuc3RhcnRzV2l0aCgnaHR0cDovLycpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrVXJsLmVuZHNXaXRoKCcvJylcbiAgICAgICAgICAgICAgICAgICAgPyBjYWxsYmFja1VybC5zbGljZSgwLCAtMSlcbiAgICAgICAgICAgICAgICAgICAgOiBjYWxsYmFja1VybDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ2NhbGxiYWNrVXJsIHNldCB3aXRoIHdyb25nIGZvcm1hdC4gcGxlYXNlIHVzZSBhbiBVUkwgd2l0aCBodHRwOi8vIG9yIGh0dHBzOi8vIGluc3RlYWQuRnVydGhlciBoZWxwIGF2YWlsYWJsZSBvbiBvdXIgdGVsZWdyYW0gY2hhbm5lbDogaHR0cHM6Ly90Lm1lL21pbnRkZXYnKTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgVVJMKHdpbmRvdy5sb2NhdGlvbi5ocmVmKS50b1N0cmluZygpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjb25zdCBnbG9iYWxDYWxsQmFja1VybCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdtaW50YmFzZS13YWxsZXQ6Y2FsbGJhY2tfdXJsJyk7XG4gICAgICAgIGlmIChpc1ZhbGlkVVJMKGdsb2JhbENhbGxCYWNrVXJsKSkge1xuICAgICAgICAgICAgcmV0dXJuIGdsb2JhbENhbGxCYWNrVXJsO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCdXZSByZWNvbW1lbmQgeW91IHRvIHNldCB0aGUgY2FsbGJhY2tVcmwgcHJvcGVydHkgb24gc2V0dXBNaW50YmFzZVdhbGxldCAgXFxuIHJlYWQgbW9yZSBoZXJlOiAgXFxuIGh0dHBzOi8vZG9jcy5taW50YmFzZS54eXovZGV2L21pbnRiYXNlLXNkay1yZWYvd2FsbGV0I3NldHVwbWludGJhc2V3YWxsZXQgIFxcbiAgXFxuIGZ1cnRoZXIgaGVscCBhdmFpbGFibGUgb24gb3VyIHRlbGVncmFtIGNoYW5uZWw6ICBcXG4gaHR0cHM6Ly90Lm1lL21pbnRkZXYnKTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgVVJMKHdpbmRvdy5sb2NhdGlvbi5ocmVmKS50b1N0cmluZygpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBuZXcgVVJMKHdpbmRvdy5sb2NhdGlvbi5ocmVmKS50b1N0cmluZygpO1xufTtcbmV4cG9ydHMuY2hlY2tDYWxsYmFja1VybCA9IGNoZWNrQ2FsbGJhY2tVcmw7XG5jb25zdCBnZXRDYWxsYmFja1VybCA9IChjYWxsYmFja1VybCkgPT4ge1xuICAgIHZhciBfYSwgX2IsIF9jLCBfZCwgX2UsIF9mO1xuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgbGV0IG1ianNDYWxsYmFja1VybCA9ICcnO1xuICAgICAgICBpZiAoKChfYiA9IChfYSA9IHdpbmRvdyA9PT0gbnVsbCB8fCB3aW5kb3cgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHdpbmRvd1snbWJqcyddKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Eua2V5cykgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmNhbGxiYWNrVXJsKSAmJiAoKF9kID0gKF9jID0gd2luZG93ID09PSBudWxsIHx8IHdpbmRvdyA9PT0gdm9pZCAwID8gdm9pZCAwIDogd2luZG93WydtYmpzJ10pID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5rZXlzKSA9PT0gbnVsbCB8fCBfZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2QuY2FsbGJhY2tVcmwubGVuZ3RoKSA+IDApIHtcbiAgICAgICAgICAgIG1ianNDYWxsYmFja1VybCA9IChfZiA9IChfZSA9IHdpbmRvdyA9PT0gbnVsbCB8fCB3aW5kb3cgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHdpbmRvd1snbWJqcyddKSA9PT0gbnVsbCB8fCBfZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Uua2V5cykgPT09IG51bGwgfHwgX2YgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9mLmNhbGxiYWNrVXJsO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGdsb2JhbENCVXJsID0gKGxvY2FsU3RvcmFnZSA9PT0gbnVsbCB8fCBsb2NhbFN0b3JhZ2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdtaW50YmFzZS13YWxsZXQ6Y2FsbGJhY2tfdXJsJykpIHx8IG1ianNDYWxsYmFja1VybDtcbiAgICAgICAgLy8gaXQgZ2V0cyBhbHdheXMgdGhlIHBhc3NlZCBjYWxsQmFja1VybCBmaXJzdCwgaWYgbm90IGNoZWNrIGZvciB0aGUgb25lIG9uIHRoZSBXYWxsZXQgU2V0dXAgb3IgbWJqcy5rZXlzLmNhbGxiYWNrVXJsXG4gICAgICAgIGNvbnN0IGZpbmFsY2JVUkwgPSBjYWxsYmFja1VybCAhPT0gbnVsbCAmJiBjYWxsYmFja1VybCAhPT0gdm9pZCAwID8gY2FsbGJhY2tVcmwgOiBnbG9iYWxDQlVybDtcbiAgICAgICAgY29uc3QgY2FsbEJhY2tVcmxSZXMgPSBjaGVja0NhbGxiYWNrVXJsKGZpbmFsY2JVUkwpO1xuICAgICAgICAvLyBjaGVjayBpZiBjYWxsQmFja1VybCBzZW50IG9uIHRoZSBtZXRob2QgaXMgdmFsaWRcbiAgICAgICAgLy8gbWV0aG9kIGNhbGxiYWNrVXJsIHdpbGwgYWx3YXlzIGhhdmUgcHJpb3JpdHkgb3ZlciBnbG9iYWwgY2FsbGJhY2tVcmwgLCB1c2VyIGNhbiBzZXQgZGlmZmVyZW50IGNhbGxiYWNrVXJscyBhY2NvcmRpbmcgdG8gdGhlIG1ldGhvZC4uXG4gICAgICAgIHJldHVybiB7IGNiVXJsOiBjYWxsQmFja1VybFJlcyB9O1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn07XG5leHBvcnRzLmdldENhbGxiYWNrVXJsID0gZ2V0Q2FsbGJhY2tVcmw7XG5jb25zdCBnZXRDYWxsYmFja1VybEJpdHRlID0gKGNhbGxiYWNrVXJsKSA9PiB7XG4gICAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZSwgX2Y7XG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBsZXQgbWJqc0NhbGxiYWNrVXJsID0gJyc7XG4gICAgICAgIGlmICgoKF9iID0gKF9hID0gd2luZG93ID09PSBudWxsIHx8IHdpbmRvdyA9PT0gdm9pZCAwID8gdm9pZCAwIDogd2luZG93WydtYmpzJ10pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5rZXlzKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuY2FsbGJhY2tVcmwpICYmICgoX2QgPSAoX2MgPSB3aW5kb3cgPT09IG51bGwgfHwgd2luZG93ID09PSB2b2lkIDAgPyB2b2lkIDAgOiB3aW5kb3dbJ21ianMnXSkgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLmtleXMpID09PSBudWxsIHx8IF9kID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZC5jYWxsYmFja1VybC5sZW5ndGgpID4gMCkge1xuICAgICAgICAgICAgbWJqc0NhbGxiYWNrVXJsID0gKF9mID0gKF9lID0gd2luZG93ID09PSBudWxsIHx8IHdpbmRvdyA9PT0gdm9pZCAwID8gdm9pZCAwIDogd2luZG93WydtYmpzJ10pID09PSBudWxsIHx8IF9lID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZS5rZXlzKSA9PT0gbnVsbCB8fCBfZiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2YuY2FsbGJhY2tVcmw7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZ2xvYmFsQ0JVcmwgPSAobG9jYWxTdG9yYWdlID09PSBudWxsIHx8IGxvY2FsU3RvcmFnZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2JpdHRlLXdhbGxldDpjYWxsYmFja191cmwnKSkgfHwgbWJqc0NhbGxiYWNrVXJsO1xuICAgICAgICAvLyBpdCBnZXRzIGFsd2F5cyB0aGUgcGFzc2VkIGNhbGxCYWNrVXJsIGZpcnN0LCBpZiBub3QgY2hlY2sgZm9yIHRoZSBvbmUgb24gdGhlIFdhbGxldCBTZXR1cCBvciBtYmpzLmtleXMuY2FsbGJhY2tVcmxcbiAgICAgICAgY29uc3QgZmluYWxjYlVSTCA9IGNhbGxiYWNrVXJsICE9PSBudWxsICYmIGNhbGxiYWNrVXJsICE9PSB2b2lkIDAgPyBjYWxsYmFja1VybCA6IGdsb2JhbENCVXJsO1xuICAgICAgICBjb25zdCBjYWxsQmFja1VybFJlcyA9IGNoZWNrQ2FsbGJhY2tVcmxCaXR0ZShmaW5hbGNiVVJMKTtcbiAgICAgICAgLy8gY2hlY2sgaWYgY2FsbEJhY2tVcmwgc2VudCBvbiB0aGUgbWV0aG9kIGlzIHZhbGlkXG4gICAgICAgIC8vIG1ldGhvZCBjYWxsYmFja1VybCB3aWxsIGFsd2F5cyBoYXZlIHByaW9yaXR5IG92ZXIgZ2xvYmFsIGNhbGxiYWNrVXJsICwgdXNlciBjYW4gc2V0IGRpZmZlcmVudCBjYWxsYmFja1VybHMgYWNjb3JkaW5nIHRvIHRoZSBtZXRob2QuLlxuICAgICAgICByZXR1cm4geyBjYlVybDogY2FsbEJhY2tVcmxSZXMgfTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59O1xuZXhwb3J0cy5nZXRDYWxsYmFja1VybEJpdHRlID0gZ2V0Q2FsbGJhY2tVcmxCaXR0ZTtcbmNvbnN0IHJlc29sdmVXYWxsZXRVcmwgPSAobmV0d29yaywgd2FsbGV0VXJsKSA9PiB7XG4gICAgaWYgKHdhbGxldFVybCkge1xuICAgICAgICByZXR1cm4gd2FsbGV0VXJsO1xuICAgIH1cbiAgICBzd2l0Y2ggKG5ldHdvcmspIHtcbiAgICAgICAgY2FzZSAnbWFpbm5ldCc6XG4gICAgICAgICAgICByZXR1cm4gJ2h0dHBzOi8vd2FsbGV0Lm1pbnRiYXNlLnh5eic7XG4gICAgICAgIGNhc2UgJ3Rlc3RuZXQnOlxuICAgICAgICAgICAgcmV0dXJuICdodHRwczovL3Rlc3RuZXQud2FsbGV0Lm1pbnRiYXNlLnh5ei8nO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHdhbGxldCB1cmwnKTtcbiAgICB9XG59O1xuZXhwb3J0cy5yZXNvbHZlV2FsbGV0VXJsID0gcmVzb2x2ZVdhbGxldFVybDtcbmNvbnN0IHJlc29sdmVCaXR0ZVdhbGxldCA9IChuZXR3b3JrLCB3YWxsZXRVcmwpID0+IHtcbiAgICBpZiAod2FsbGV0VXJsKSB7XG4gICAgICAgIHJldHVybiB3YWxsZXRVcmw7XG4gICAgfVxuICAgIHN3aXRjaCAobmV0d29yaykge1xuICAgICAgICBjYXNlICdtYWlubmV0JzpcbiAgICAgICAgICAgIHJldHVybiAnaHR0cHM6Ly93YWxsZXQuYml0dGUuYWknO1xuICAgICAgICBjYXNlICd0ZXN0bmV0JzpcbiAgICAgICAgICAgIHJldHVybiAnaHR0cHM6Ly90ZXN0bmV0LndhbGxldC5iaXR0ZS5haS8nO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHdhbGxldCB1cmwnKTtcbiAgICB9XG59O1xuZXhwb3J0cy5yZXNvbHZlQml0dGVXYWxsZXQgPSByZXNvbHZlQml0dGVXYWxsZXQ7XG4vLyMgc291cmNlTWFwcGluZ1VSTD11dGlscy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@mintbase-js/wallet/lib/utils.js\n");

/***/ })

};
;